<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LEGATO: framework/doc/swi_airvantage.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Simplifying IoT development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('swi__airvantage_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">swi_airvantage.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;returncodes.h&quot;</code><br/>
<code>#include &quot;swi_dset.h&quot;</code><br/>
</div>
<p><a href="swi__airvantage_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
General functionalities.</h2></td></tr>
<tr class="memitem:aad017b6a82aebb9997a1ed54275b8948"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#aad017b6a82aebb9997a1ed54275b8948">SWI_AV_ERROR</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aad017b6a82aebb9997a1ed54275b8948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a0234c7fa3d4997d1f0972b7055f1f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9a0234c7fa3d4997d1f0972b7055f1f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWI_AV_INFO</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ac9a0234c7fa3d4997d1f0972b7055f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87537de8632de6a52771e6fd7f699250"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87537de8632de6a52771e6fd7f699250"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a87537de8632de6a52771e6fd7f699250">SWI_AV_CX_SYNC</a>&#160;&#160;&#160;UINT_MAX</td></tr>
<tr class="memdesc:a87537de8632de6a52771e6fd7f699250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value to be used to request synchronous connection to server using <a class="el" href="swi__airvantage_8h.html#a7e1695310cc59c4e5b6af85afe695f48">swi_av_ConnectToServer</a>. <br/></td></tr>
<tr class="separator:a87537de8632de6a52771e6fd7f699250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa496611e5e068185d1ad3f68d42be039"><td class="memItemLeft" align="right" valign="top">typedef struct swi_av_Asset&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a></td></tr>
<tr class="separator:aa496611e5e068185d1ad3f68d42be039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b561de348628ee35ce54f8a9efd8b4"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a22b561de348628ee35ce54f8a9efd8b4">swi_av_Init</a> ()</td></tr>
<tr class="separator:a22b561de348628ee35ce54f8a9efd8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77fba6c45f4d74b119fee17433748fb8"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a77fba6c45f4d74b119fee17433748fb8">swi_av_Destroy</a> ()</td></tr>
<tr class="separator:a77fba6c45f4d74b119fee17433748fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1695310cc59c4e5b6af85afe695f48"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a7e1695310cc59c4e5b6af85afe695f48">swi_av_ConnectToServer</a> (unsigned int latency)</td></tr>
<tr class="separator:a7e1695310cc59c4e5b6af85afe695f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0b2e621845620265508da88d0bfd48"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#afa0b2e621845620265508da88d0bfd48">swi_av_TriggerPolicy</a> (const char *policyPtr)</td></tr>
<tr class="separator:afa0b2e621845620265508da88d0bfd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d12a618696657cb8487316b7139ddd"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a41d12a618696657cb8487316b7139ddd">swi_av_asset_Create</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> **asset, const char *assetIdPtr)</td></tr>
<tr class="separator:a41d12a618696657cb8487316b7139ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5805cec0a0fb09df60324657c6159eba"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a5805cec0a0fb09df60324657c6159eba">swi_av_asset_Start</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset)</td></tr>
<tr class="separator:a5805cec0a0fb09df60324657c6159eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a3a9a8856ce4efa48082c36aa25865"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#ab2a3a9a8856ce4efa48082c36aa25865">swi_av_asset_Destroy</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset)</td></tr>
<tr class="separator:ab2a3a9a8856ce4efa48082c36aa25865"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Data Sending Simple API</h2></td></tr>
<tr class="memitem:a3fe9dca31eb83c25303fe42408147e43"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43">swi_av_timestamp_t</a> { <a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43a6441950bb26b3d017fb092e84412954b">SWI_AV_TSTAMP_NO</a> = 0, 
<a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43a1af8ff28c4ee7fb0a05213d934aac081">SWI_AV_TSTAMP_AUTO</a> = 1
 }</td></tr>
<tr class="separator:a3fe9dca31eb83c25303fe42408147e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527461cd891bd8a459f1bc85a1b2a227"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a527461cd891bd8a459f1bc85a1b2a227">swi_av_asset_PushString</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, const char *valuePtr)</td></tr>
<tr class="separator:a527461cd891bd8a459f1bc85a1b2a227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a39a7b8eb6622c506b9cbdd1c0f31f"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a69a39a7b8eb6622c506b9cbdd1c0f31f">swi_av_asset_PushInteger</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, int64_t value)</td></tr>
<tr class="separator:a69a39a7b8eb6622c506b9cbdd1c0f31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7bd7a7dc05ec7a48f0728d32518b24"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a6c7bd7a7dc05ec7a48f0728d32518b24">swi_av_asset_PushFloat</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, double value)</td></tr>
<tr class="separator:a6c7bd7a7dc05ec7a48f0728d32518b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Data Sending Advanced API</h2></td></tr>
<tr class="memitem:a9ecc845c1fbee2853604f3ca964d4cfb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a> { <a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfba030cdda3592d2bf014baad7efc6219aa">STORAGE_RAM</a> = 0, 
<a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfbad4554cb4e79d8aa9b739772f83cc1145">STORAGE_FLASH</a>
 }</td></tr>
<tr class="separator:a9ecc845c1fbee2853604f3ca964d4cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96178218cc5e87b6f27a02f50bcaef09"><td class="memItemLeft" align="right" valign="top">typedef struct swi_av_Table&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a></td></tr>
<tr class="separator:a96178218cc5e87b6f27a02f50bcaef09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a00fa3f70e217de8d388cea2187aa92"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a8a00fa3f70e217de8d388cea2187aa92">swi_av_table_Create</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> **table, const char *pathPtr, size_t numColumns, const char **columnNamesPtr, const char *policyPtr, <a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a> persisted, int purge)</td></tr>
<tr class="separator:a8a00fa3f70e217de8d388cea2187aa92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c246a7bfa66b4d1c1b28650ed93321e"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a7c246a7bfa66b4d1c1b28650ed93321e">swi_av_table_Destroy</a> (<a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table)</td></tr>
<tr class="separator:a7c246a7bfa66b4d1c1b28650ed93321e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359ec5d93d1ba799cde51b1184e8f6cc"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a359ec5d93d1ba799cde51b1184e8f6cc">swi_av_table_PushFloat</a> (<a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, double value)</td></tr>
<tr class="separator:a359ec5d93d1ba799cde51b1184e8f6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba67d561e601cb5ab70c6a662c31549"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a8ba67d561e601cb5ab70c6a662c31549">swi_av_table_PushInteger</a> (<a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, int value)</td></tr>
<tr class="separator:a8ba67d561e601cb5ab70c6a662c31549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8500301d4db2cfc2636e4fefd73f9743"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a8500301d4db2cfc2636e4fefd73f9743">swi_av_table_PushString</a> (<a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, const char *value)</td></tr>
<tr class="separator:a8500301d4db2cfc2636e4fefd73f9743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec98300ef71254ada7465d14868d40c"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#acec98300ef71254ada7465d14868d40c">swi_av_table_PushRow</a> (<a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table)</td></tr>
<tr class="separator:acec98300ef71254ada7465d14868d40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Data Reception</h2></td></tr>
<tr class="memitem:a0ac63a79fedd29aea57c37efea5b720b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a> )(<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, swi_dset_Iterator_t *data, int ack_id, void *userDataPtr)</td></tr>
<tr class="separator:a0ac63a79fedd29aea57c37efea5b720b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8557d5dd5039c4883ee77ffd0200ec"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#afd8557d5dd5039c4883ee77ffd0200ec">swi_av_RegisterDataWrite</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#a0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a> cb, void *userDataPtr)</td></tr>
<tr class="separator:afd8557d5dd5039c4883ee77ffd0200ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c7ead36e81069db2183419ff2f31fb"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a82c7ead36e81069db2183419ff2f31fb">swi_av_Acknowledge</a> (int ackId, int status, const char *errMsgPtr, const char *policyPtr, int persisted)</td></tr>
<tr class="separator:a82c7ead36e81069db2183419ff2f31fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Asset Update</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp1ceea6c8bcfe8986f5a76e5012f4cd67"></a>Using those APIs and types, the application can receive update request, coming with update files from update package sent by AirVantage Services platform. </p>
</td></tr>
<tr class="memitem:abd3048b29520f300c742de7750ad5037"><td class="memItemLeft" align="right" valign="top">typedef rc_ReturnCode_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#abd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a> )(<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *componentNamePtr, const char *versionPtr, const char *updateFilePathPtr, swi_dset_Iterator_t *customParams, void *userDataPtr)</td></tr>
<tr class="separator:abd3048b29520f300c742de7750ad5037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38931bbfeeb925f0495808fb32611939"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a38931bbfeeb925f0495808fb32611939">swi_av_RegisterUpdateNotification</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#abd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a> cb, void *userDataPtr)</td></tr>
<tr class="separator:a38931bbfeeb925f0495808fb32611939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d92e14c0da03c81df9412a51df8e488"><td class="memItemLeft" align="right" valign="top">rc_ReturnCode_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a8d92e14c0da03c81df9412a51df8e488">swi_av_SendUpdateResult</a> (<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *componentNamePtr, int updateResult)</td></tr>
<tr class="separator:a8d92e14c0da03c81df9412a51df8e488"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Using this API, an application can work with Sierra Wireless AirVantage Services Platform to:</p>
<ul>
<li>request connection to AirVantage server</li>
<li>send data</li>
<li>receive data</li>
<li>receive asset update request</li>
</ul>
<p>This module relies on Agent process, which is responsible for queuing data, managing the flush timers and sending the data to the remote AirVantage server. Many of the APIs in this module relay the data to the Agent; the Agent then manages the data as described.</p>
<p>Two methods are supported for sending data to the AirVantage servers:</p>
<ul>
<li>The swi_av_asset_Push* functions: this is a simple API for managing how to send data, this is the recommended method for most use cases.</li>
<li>Tables API (via swi_av_table_Create): this allows for more advanced control of the transfer of data.</li>
</ul>
<hr/>
 </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aad017b6a82aebb9997a1ed54275b8948"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SWI_AV_ERROR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines whether the library displays error traces (on stdout) to help debugging errors. Using 0 for this setting will ensure no printing is done by the library. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aa496611e5e068185d1ad3f68d42be039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct swi_av_Asset <a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An Asset is the AirVantage Application Services object used to send data to the AirVantage Application Services server. Instances of this object must be created through <a class="el" href="swi__airvantage_8h.html#a41d12a618696657cb8487316b7139ddd">swi_av_asset_Create</a>. </p>

</div>
</div>
<a class="anchor" id="a0ac63a79fedd29aea57c37efea5b720b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* swi_av_DataWriteCB)(<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset,const char *pathPtr,swi_dset_Iterator_t *data,int ack_id,void *userDataPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DataWrite callback to receive data coming from the server.</p>
<p>No automatic acknowledge of received data will be done, so application that wants the server to receive acknowledge needs to call <a class="el" href="swi__airvantage_8h.html#a82c7ead36e81069db2183419ff2f31fb">swi_av_Acknowledge</a> function.</p>
<p>String parameters given to this function will be released when the callback returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asset</td><td>[IN] Asset receiving the data </td></tr>
    <tr><td class="paramname">pathPtr</td><td>[IN] Path targeted by the data sent by the server. </td></tr>
    <tr><td class="paramname">data</td><td>[IN] Data iterator containing the received data. The data contained in the iterator will be automatically released when the callback returns. </td></tr>
    <tr><td class="paramname">ack_id</td><td>[IN] ID to be used to acknowledge the received data. If ack_id=0 then there is no need to acknowledge. </td></tr>
    <tr><td class="paramname">userDataPtr</td><td>[IN] User data given at callback registration. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a96178218cc5e87b6f27a02f50bcaef09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct swi_av_Table <a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A Table is the Airvantage objects handling staging database tables, to buffer, consolidate and send structured data. Instances of this object must be created through <a class="el" href="swi__airvantage_8h.html#a8a00fa3f70e217de8d388cea2187aa92">swi_av_table_Create</a>. </p>

</div>
</div>
<a class="anchor" id="abd3048b29520f300c742de7750ad5037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef rc_ReturnCode_t(* swi_av_updateNotificationCB)(<a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset,const char *componentNamePtr,const char *versionPtr,const char *updateFilePathPtr,swi_dset_Iterator_t *customParams,void *userDataPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>asset update notification callback.</p>
<p>The callback will be called when the associated asset is responsible to manage a software update request coming from AirVantage services platform.</p>
<p>The application must call <a class="el" href="swi__airvantage_8h.html#a8d92e14c0da03c81df9412a51df8e488">swi_av_SendUpdateResult</a> explicitly to send update result, otherwise no result is sent, retry mechanism will be started and eventually the update status will be set to failed.</p>
<p>String parameters will be released when the callback returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asset</td><td>[IN] Asset receiving the update notification </td></tr>
    <tr><td class="paramname">componentNamePtr</td><td>[IN] Identifier of the component to update, (the component name is a path in dotted notation) the name is defined in update package manifest file, here it is provided without the assetid at the beginning. </td></tr>
    <tr><td class="paramname">versionPtr</td><td>[IN] Version of the component to install. Version can be empty string (but not NULL!) to specify de-installation request, non empty string for regular update/install of software component. </td></tr>
    <tr><td class="paramname">updateFilePathPtr</td><td>[IN] Absolute path to local file to use on the device to do the update, can be empty string when version is empty too. The file will be automatically deleted when the update process ends, so once <a class="el" href="swi__airvantage_8h.html#a8d92e14c0da03c81df9412a51df8e488">swi_av_SendUpdateResult</a> has been called, or all retries have been done for a single component update, the file existence on file system is not guaranteed anymore. </td></tr>
    <tr><td class="paramname">customParams</td><td>[IN] Application specifics parameters, defined in update package, can be NULL if no custom parameter was defined. To be processed using #swi_dset_Iterator_t API, embedded data in the iterator will be automatically released when this callback returns. </td></tr>
    <tr><td class="paramname">userDataPtr</td><td>[IN] User data given at callback registration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RC_OK when the callback ran correctly (it doesn't necessarily means the update was successful, see <a class="el" href="swi__airvantage_8h.html#a8d92e14c0da03c81df9412a51df8e488">swi_av_SendUpdateResult</a>), any other return value will be interpreted as error. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a9ecc845c1fbee2853604f3ca964d4cfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specific values for storage. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a9ecc845c1fbee2853604f3ca964d4cfba030cdda3592d2bf014baad7efc6219aa"></a>STORAGE_RAM</em>&#160;</td><td class="fielddoc">
<p>Non persistent, everything is saved only in RAM. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9ecc845c1fbee2853604f3ca964d4cfbad4554cb4e79d8aa9b739772f83cc1145"></a>STORAGE_FLASH</em>&#160;</td><td class="fielddoc">
<p>Persistent, everything is saved to the FLASH memory. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a3fe9dca31eb83c25303fe42408147e43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43">swi_av_timestamp_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specific values for timestamps to be used with swi_av_asset_Push* functions. (Those values are not meant to be used with advanced swi_av_table_Push* functions). Timestamps values 0 and 1 (in second since Unix Epoch) are reserved for those special timestamp requests. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a3fe9dca31eb83c25303fe42408147e43a6441950bb26b3d017fb092e84412954b"></a>SWI_AV_TSTAMP_NO</em>&#160;</td><td class="fielddoc">
<p>Explicitly request no timestamp to send alongside the data. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a3fe9dca31eb83c25303fe42408147e43a1af8ff28c4ee7fb0a05213d934aac081"></a>SWI_AV_TSTAMP_AUTO</em>&#160;</td><td class="fielddoc">
<p>Timestamp will be automatically generated when the data is added. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a82c7ead36e81069db2183419ff2f31fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_Acknowledge </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ackId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>errMsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>persisted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acknowledges a server message received with an acknowledgment ticket id. No automatic acknowledge will be done, so application that wants the server to receive acknowledge needs to call this function.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_PARAMETER if the requested policy name is not found. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ackId</td><td>ID to acknowledge, as given to the data reception callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>Status of the acknowledge: 0 means success, other values mean error </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errMsgPtr</td><td>Optional error message string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Optional triggering policy to send the acknowledgment, defaults to "now". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">persisted</td><td>Boolean, if true, the ACK message will be persisted in flash by the agent, and kept even if a reboot occurs before the policy is triggered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a41d12a618696657cb8487316b7139ddd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> **&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>assetIdPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and returns a new asset instance. The newly created asset is not started when returned, it can therefore neither send nor receive messages at this point. This intermediate, non-started asset allows to configure message/update handlers before any message/update is actually transferred to the asset.</p>
<p>See <a class="el" href="swi__airvantage_8h.html#a5805cec0a0fb09df60324657c6159eba">swi_av_asset_Start</a> to start the newly created instance.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd>
<dd>
RC_BAD_PARAMETER if the supplied parameters are invalid </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">asset</td><td>Pointer to hold the newly created asset, AirVantage library is responsible for allocating the resources of this asset. User is responsible of releasing resources using <a class="el" href="swi__airvantage_8h.html#ab2a3a9a8856ce4efa48082c36aa25865">swi_av_asset_Destroy</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">assetIdPtr</td><td>String defining the assetId identifying the instance of this new asset, NULL and empty string values are forbidden. The assetId must be unique on the same device, otherwise asset starting will fail. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab2a3a9a8856ce4efa48082c36aa25865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes an asset instance, releasing the associated resources. Once this destructor method has been called, no more message can be sent nor received by the instance and update for this asset will be automatically rejected.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_FORMAT if asset parameter is invalid </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset to stop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c7bd7a7dc05ec7a48f0728d32518b24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_PushFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes a float value to the agent. The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.</p>
<p>String parameters can be released by user once the call has returned.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset used to send the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathPtr</td><td>Datastore path under which data will be stored relative to the asset node. Last path segment will be used as a datastore key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Optional name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43">swi_av_timestamp_t</a> values can be used Request automatic or no timestamp. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>float value to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a69a39a7b8eb6622c506b9cbdd1c0f31f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_PushInteger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes an integer value to the agent. The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.</p>
<p>String parameters can be released by user once the call has returned.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset used to send the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathPtr</td><td>Datastore path under which data will be stored relative to the asset node. Last path segment will be used as a datastore key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Optional, name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43">swi_av_timestamp_t</a> values can be used Request automatic or no timestamp. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Integer value to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a527461cd891bd8a459f1bc85a1b2a227"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_PushString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>valuePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes a string value to the agent. The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.</p>
<p>String parameters can be released by user once the call has returned.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset used to send the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathPtr</td><td>Datastore path under which data will be stored relative to the asset node, Last path segment will be used as a datastore key. NULL and empty string values are forbidden. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Optional name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#a3fe9dca31eb83c25303fe42408147e43">swi_av_timestamp_t</a> values can be used Request automatic or no timestamp. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valuePtr</td><td>String value to push. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5805cec0a0fb09df60324657c6159eba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_asset_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts a newly created asset. Allows the asset instance to send and receive messages to/from the servers.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset to start </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e1695310cc59c4e5b6af85afe695f48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_ConnectToServer </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>latency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forces a connection to the server. This connection will not flush outgoing data handled through policies, but it will poll the server for new messages addressed to assets on this gateway device.</p>
<p>If using <a class="el" href="swi__airvantage_8h.html#a87537de8632de6a52771e6fd7f699250" title="Value to be used to request synchronous connection to server using swi_av_ConnectToServer. ">SWI_AV_CX_SYNC</a>, the connection is synchronous, i.e. once this function returns, the requested connection to the server is closed. Otherwise the connection will happen after this call returns.</p>
<p>Notes:</p>
<ul>
<li>valid values for latency are 0 to INT_MAX.</li>
<li>0 value means the connection will be asynchronous, but will be done as soon as possible.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">latency</td><td>Latency in seconds before initiating the connection to the server, use SWI_AV_CX_SYNC to specify synchronous connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77fba6c45f4d74b119fee17433748fb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_Destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys the AirVantage library.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd></dl>

</div>
</div>
<a class="anchor" id="a22b561de348628ee35ce54f8a9efd8b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the AirVantage library. A call to swi_av_Init is mandatory to enable AirVantage library APIs.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>

</div>
</div>
<a class="anchor" id="afd8557d5dd5039c4883ee77ffd0200ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_RegisterDataWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userDataPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a callback to receive DataWrite notifications. The callback will be called in a new pthread.</p>
<p>Usage example of the datawrite callback function: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> my_datacallback(swi_av_Asset *asset, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, swi_dset_Iterator* data, <span class="keywordtype">int</span> ack_id, <span class="keywordtype">void</span> *userData){</div>
<div class="line">  <span class="keywordflow">if</span>(! strncmp(path, <span class="stringliteral">&quot;command.setvalue&quot;</span>, strlen(<span class="stringliteral">&quot;command.setvalue&quot;</span>)) ){</div>
<div class="line">   int64_t cmd_value;</div>
<div class="line">   assert(RC_OK == swi_dset_GetIntegerByName(data, <span class="stringliteral">&quot;cmd_value&quot;</span>, &amp;cmd_value) );</div>
<div class="line">   setvalue(cmd_value);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span>{ <span class="comment">//unknown command</span></div>
<div class="line">     printf(<span class="stringliteral">&quot;received data on path[%s]:\n&quot;</span>, path);</div>
<div class="line">     <span class="keywordflow">while</span>(RC_NOT_FOUND != swi_dset_Next(data) ){</div>
<div class="line">       printf(<span class="stringliteral">&quot;data name: [%s]\n&quot;</span>, swi_dset_GetName(data));</div>
<div class="line">       <span class="comment">//...</span></div>
<div class="line">     }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>(ack_id)</div>
<div class="line">   <a class="code" href="swi__airvantage_8h.html#a82c7ead36e81069db2183419ff2f31fb">swi_av_Acknowledge</a>(ack_id, 0, NULL, <span class="stringliteral">&quot;now&quot;</span>, 1);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">main(...){</div>
<div class="line"></div>
<div class="line"> <a class="code" href="swi__airvantage_8h.html#afd8557d5dd5039c4883ee77ffd0200ec">swi_av_RegisterDataWrite</a>(asset, my_datacallback, NULL)</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_FORMAT if provided asset param is invalid </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset listening to incoming data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback function to register to receive the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userDataPtr</td><td>User data that will be given back in callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a38931bbfeeb925f0495808fb32611939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_RegisterUpdateNotification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#abd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userDataPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers the hook function to be called when the asset receives a software update request from the AirVantage services platform.</p>
<p>The callback will be called in a new pthread.</p>
<p>This feature targets applications that want to process their own update or applications that are responsible for updating another pieces of software, taking advantage of the integrated solution provided by AirVantage services.</p>
<p>If the application wants to have a deeper control of the whole update process, it needs to use the functionalities provided by swi_update.h.</p>
<ul>
<li>There can be only one pending software update request at a time.</li>
<li>Only one hook can be registered for the whole asset</li>
<li>If no user update hook is set, the error code 472 (meaning "not supported /
  not implemented") will be reported to the server.</li>
<li>Any error coming from this update request means that the whole update process will be considered as failed.</li>
<li>When an update request tries to install a version that is already installed, the application should return success value. Indeed, in some cases the asset instance won't receive and report the hook's result (e.g. because of a poorly timed reboot). As a result, the update request will be sent again, and the hook should report a success immediately.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_FORMAT if provided asset param is invalid </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset listening to update notification, can be a started or non-started asset. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback function to register to receive asset update notification Giving NULL as parameter will be treated as unregister of previous callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userDataPtr</td><td>User data that will be given back in callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d92e14c0da03c81df9412a51df8e488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_SendUpdateResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>componentNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>updateResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends the result of the software update request previously received by an asset.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_PARAMETER when no update request is matching asset and component name, the update result is discarded. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset that was targeted by the software update request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">componentNamePtr</td><td>Must be the same value as the one that was given as argument to the swi_av_updateNotificationCB. As only one software update is possible for the same component at the same time, the couple asset+componentName fully identifies the software update request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">updateResult</td><td>Result of the update, 200 for success, any other value means error. Values from 480 to 499 are reserved for applicative error codes,so it is highly recommended to use one (or more) of those to signify an error coming from an asset update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a00fa3f70e217de8d388cea2187aa92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#aa496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&#160;</td>
          <td class="paramname"><em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> **&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numColumns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>columnNamesPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a>&#160;</td>
          <td class="paramname"><em>persisted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>purge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a table, the AirVantage objects handling staging database tables, to buffer, consolidate and send structured data.</p>
<p>String parameters can be released by user once the call has returned.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd>
<dd>
RC_BAD_FORMAT if error occurred during the payload generation (internally used to exchange data with the Agent) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">asset</td><td>Asset used to send the data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">table</td><td>Pointer to hold the newly created table. AirVantage library is responsible for allocating the resources of this table, User is responsible of releasing the resources using swi_av_Table_Destroy. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pathPtr</td><td>Datastore path under which data will be stored relative to the asset node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numColumns</td><td>Number of columns of the table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">columnNamesPtr</td><td>Pointer to an array of strings (with numColums entries): name of each column. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Name of the policy controlling when the data must be sent to the server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">persisted</td><td>Value which describes how the table must be persisted, STORAGE_FLASH meaning file persistence, STORAGE_RAM meaning in ram only. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">purge</td><td>Boolean value, indicates if existing table (if any) is recreated (true) or reused (false). Recreation means the table will be dropped and then created from scratch (so any data inside table will be lost). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7c246a7bfa66b4d1c1b28650ed93321e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys table instance, releasing associated resources. Partial data not pushed yet to the agent will be lost.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd>
<dd>
RC_BAD_FORMAT if error occurred during the payload generation (internally used to exchange data with the Agent) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>the table to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a359ec5d93d1ba799cde51b1184e8f6cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_PushFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes a float value in the current row of the table.</p>
<p>swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#acec98300ef71254ada7465d14868d40c">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table where to push the value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Float to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ba67d561e601cb5ab70c6a662c31549"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_PushInteger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes an integer value in the current row of the table.</p>
<p>swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#acec98300ef71254ada7465d14868d40c">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table where to push the value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Integer to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acec98300ef71254ada7465d14868d40c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_PushRow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes the current row of the database to the Agent.</p>
<p>Once the current row has been pushed to the Agent, it is totally freed in the database, And the table is ready to received new pushed data using swi_av_table_Push*() functions.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd>
<dd>
RC_BAD_FORMAT if error occurred during the payload generation (internally used to exchange data with the Agent) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table where to push the value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8500301d4db2cfc2636e4fefd73f9743"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_table_PushString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes a string value in the current row of the table.</p>
<p>swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#acec98300ef71254ada7465d14868d40c">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table where to push the value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>String to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afa0b2e621845620265508da88d0bfd48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc_ReturnCode_t swi_av_TriggerPolicy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>policyPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forces data attached to a given policy to be sent or consolidated immediately. This only applies to data sent using simple or advanced Data Sending APIs. Data Reception and Asset Update exchanges are <b>not</b> modified by this function.</p>
<p>A connection to the server is done only if data needs to be sent as the result to this trigger operation. Put another way, if no data is attached to the triggered policy(ies), then no connection to the server is done. See <a class="el" href="swi__airvantage_8h.html#a7e1695310cc59c4e5b6af85afe695f48">swi_av_ConnectToServer</a> for complementary function.</p>
<p>For a description of how policies allow to manage data reporting from the assets to the server, see Agent product documentation.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success </dd>
<dd>
RC_BAD_PARAMETER if the requested policy name is not found. </dd>
<dd>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">policyPtr</td><td>Name of the policy queue to be flushed. Flush all policies if policy=='*'; only flush the default policy if policy is omitted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.6
        </div>
    </div>
</body>
</html>
