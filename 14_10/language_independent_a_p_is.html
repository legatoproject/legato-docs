<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Legato: Language-Independent APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Simplifying M2M development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('language_independent_a_p_is.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Language-Independent APIs </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Legato components can provide APIs for other components to use. This can be done the conventional way, by writing a C header file to define the interface, for example. But, a C header file can only be used by components that are written in C, and functions defined in a C header file can only be implemented by C code. Furthermore, C compilers won't generate IPC code for you, so unless you write your own, your API implementation and its user are forced to run inside the same process. This can severely limit the reusability of components and can force the use of a programming language that is not ideally suited to a particular problem domain or developer skill set. It also leaves inter-process communication (IPC) to be implemented manually, which can be time-consuming and fraught with bugs and security issues.</p>
<p>To alleviate these problems, Legato provides a very simple form of interface definition language (IDL) that is similar to C but that helps the programmer define their API such that it can be used in multiple different programming languages.</p>
<p>These IDL files are called <b> API definition </b> (<code>.api</code>) files.</p>
<p>These <code>.api</code> files are processed by the <b><code>ifgen</code></b> build tool, which generates function definitions and IPC code in an implementation language chosen by the component writer. Most of the time, developers don't need to know anything about <code>ifgen</code>, though, because it is automatically run by other build tools, as needed.</p>
<dl class="section note"><dt>Note</dt><dd>Although the only language supported today is C, the plan is that the client and server can be written in different languages, multiple clients can be written in different languages, and multiple server implementations can be written in different languages; and none of them would have to include any IPC code or language translation layer.</dd></dl>
<p>When writing a client of an API, the programmer</p>
<ul>
<li>imports the API into their component (add the <code>.api</code> file to the <code>api:</code> subsection of the <code>requires:</code> section of the component's <code>Component.cdef</code> file)</li>
<li>include/import the generated code into their program (e.g., in C: <code>#include "interfaces.h"</code>)</li>
<li>call the functions in the API</li>
</ul>
<p>This will automatically take care of IPC connection opening/closing, message buffer allocation/release, message passing, synchronization between client and server threads/processes, and sandbox security access control.</p>
<p>When writing a server of an API, the programmer</p>
<ul>
<li>exports the API from their component (add the <code>.api</code> file to the <code>api:</code> subsection of the <code>provides:</code> section of the component's <code>Component.cdef</code> file)</li>
<li>include/import the generated code into their program (e.g., in C: <code>#include "interfaces.h"</code>)</li>
<li>implement the functions in the API</li>
</ul>
<p>The server's functions will be called automatically when the client calls the auto-generated client-side versions of those functions.</p>
<p>For more information:</p>
<p><a class="el" href="language_independent_syntax.html">API Definition Syntax</a> <br/>
 <a class="el" href="language_independent_c.html">C Language Support</a> <br/>
 <a class="el" href="def_files.html">Definition Files</a></p>
<hr/>
<p>Copyright (C) Sierra Wireless, Inc. 2014. Use of this work is subject to license. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="http://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless 2014
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.6
        </div>
    </div>
</body>
</html>
