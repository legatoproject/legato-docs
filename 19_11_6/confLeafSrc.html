<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html data-context="Build Apps" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Get Legato Source Code  - Legato Docs</title>
<meta content="legatoâ„¢ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description"/>
<meta content="legato, iot" name="keywords"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="19.11.6" name="legato-version"/>
<link href="resources/images/legato.ico" rel="shortcut icon"/>
<link href="resources/images/legato.ico" rel="icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="apple-touch-icon" type="image/x-icon"/>
<link href="resources/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
<!--[if IE]>
    <script src="resources/js/html5shiv.js"></script>
    <script src="resources/js/respond.js"></script>
  <![endif]-->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="resources/js/main.js"></script>
<script src="tocs/Build_Apps_Get_Started.json"></script>
</head>
<body>
<noscript>
<input class="modal-closing-trick" id="modal-closing-trick" type="checkbox"/>
<div id="nojs">
<label for="modal-closing-trick">
<span>You seem to not have Javascript <a href="http://enable-javascript.com">enabled</a>, so site functionality like the search and navigation tree won't work.</span>
</label>
</div>
</noscript>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/">Introduction</a><a class="navlink selected" href="buildAppsMain.html">Build Apps</a><a class="navlink" href="buildPlatformMain.html">Build Platform</a><a class="navlink" href="aboutMain.html">About</a>
</nav>
</header>
</div>
<div class="white" id="menudocumentation">
<header>
<a href="/"> <img alt="Back to Legato Homepage" id="logo" src="resources/images/legato_logo.png"/></a>
<h2>/ Build Apps</h2>
<nav class="secondary">
<a class="link-selected" href="getStarted.html">Get Started</a><a href="concepts.html">Concepts</a><a href="apiGuidesMain.html">API Guides</a><a href="tools.html">Tools</a><a href="howToMain.html">How To</a><a href="experimentalMain.html">Experimental Features</a>
</nav>
<nav class="ui-front">
<i class="fa fa-search" id="search-icon"></i>
<input id="searchbox" placeholder="Search"/>
</nav>
</header>
</div>
<div id="resizable">
<div id="left">
<div id="tree1"></div>
</div>
</div>
<div class="content">
<div class="header">
<div class="headertitle">
<h1 class="title">Get Legato Source Code </h1> </div>
</div><div class="contents">
<div class="textblock"><p>The initial package that you download contains a <b>pre-built</b> version of the Legato Application Framework, meaning that it contains all the source code that you need and make has already been run for the target that you downloaded the package for. (i.e.; if you download a wp76 package, then make will already be run for the wp76). This means that the build tools and other Legato tools are available for you to use as soon as the package gets installed and you use <code>leaf</code> <code>shell</code>.</p>
<p>If you need want to contribute back to the legato project or need a tracked version of the source code you can switch from using the pre-built version to the source code.</p>
<p>Before downloading the source code you must set up an account on [GitHub)[<a href="https://github.com">https://github.com</a>], accept the license at <a href="https://swi-license.legato.io">https://swi-license.legato.io</a> , and set up an SSH identity on your development machine.</p>
<h1><a class="anchor" id="confLeafSrc_GitHub"></a>
GitHub</h1>
<p>These steps only need to be done the first time you are connecting your development machine to GitHub.</p>
<p>Visit <a href="https://github.com">https://github.com</a></p>
<p>If you don't have an account click <b>Sign up</b> and create a user account.</p>
<p>Once you have an account click on <b>Sign in</b> and enter in your user name and password.</p>
<p>After you have successfully signed in, you will need to associate an SSH key with your account. The settings are available at <a href="https://github.com/settings/keys">https://github.com/settings/keys</a> , but you can also access it by clicking on your user avatar in the right hand corner and choosing <b>Settings</b> . Then, on the left menu, click on <b>SSH and GPG keys</b>,</p>
<p>Next, if you have not created RSA keys for your linux development machine before follow these steps:</p><ul>
<li>From the Terminal or Git Bash, run <code>ssh-keygen</code> </li>
<li>Confirm the default path <code></code>.ssh/id_rsa</li>
<li>Enter a passphrase (recommended) or leave it blank. Remember this passphrase, as you will need it to unlock the key whenever you use it.</li>
<li>Click on <b>New SSH key</b></li>
<li>Open <code>~/</code>.ssh/id_rsa.pub and copy &amp; paste the contents into the box labeled <code>Key</code>, then provide a short description in <code>Title</code> and click on <b>Add New SSH key</b>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><code>id_rsa.pub</code> is your public key and can be shared, while the key contained in id_rsa is your private key and should be kept secret. It should be treated with the same amount of care as a password.</dd></dl>
<p>If you already have a <code>~/</code>.ssh/id_rsa.pub created, go to <a href="https://github.com/settings/keys">https://github.com/settings/keys</a> and register a new key by clicking on <b>New SSH key</b>, then copy &amp; paste the content of the file in <code>Key</code>. Finally, name that key in <code>Title</code>, and click <b>Add SSH key</b>.</p>
<p>Your account is now set up for SSH authentication to GitHub.</p>
<p>To make it possible for your account to access private repositories, go to <a href="https://swi-license.legato.io">https://swi-license.legato.io</a> . Follow the instructions, and if you choose to accept the license, your GitHub user will be placed in the <code>legatoproject</code> organisation.</p>
<p>You can check that access was granted successfuly by accessing <a href="https://github.com/legatoproject/test-access/">https://github.com/legatoproject/test-access/</a> .</p>
<p>For more details on manually cloning the source code see <a class="el" href="toolsGitHub.html">GitHub</a>.</p>
<h1><a class="anchor" id="confLeafSrc_Switch"></a>
Switch to the Source Code</h1>
<h2><a class="anchor" id="confLeafSrc_SwitchLegato"></a>
Legato Sources</h2>
<p>To switch from the pre-built Legato Application Framework to the tracked Legato Source code make sure you are in your leaf workspace directory and enter the following command: </p><pre class="fragment">$ leaf getsrc legato
</pre><dl class="section note"><dt>Note</dt><dd>If you wish to use the legato source code for all leaf profiles add the <code>--workspace</code> option to the end of your command. i.e., <code>leaf</code> <code>getsrc</code> <code>legato</code> --<code>workspace</code> </dd></dl>
<p>You will then be prompted to choose a directory to sync the source code to.</p>
<p>If at any reason the sync stops or times out you can run <code>leaf</code> <code>getsrc</code> <code>legato</code> again to re-sync from GitHub (it picks up where it left off).</p>
<p>To switch back and to use the pre-build version of Legato, disable the source in leaf. This does not delete the source directory, it re-configures leaf to use the original pre-build version of Legato that was downloaded with your SDK. </p><pre class="fragment">$ leaf getsrc legato --disable
</pre><h2><a class="anchor" id="confLeafSrc_SwitchLinux"></a>
Linux Sources</h2>
<p>The Legato SDK comes with a pre-built image of the Linux OS for your target, if you wish to add drivers or reconfigure Linux you must download the source code for the Linux image, make your changes and then rebuild the image and the toolchain. Leaf provides a tool to automate the download of the Linux source repositories. </p><pre class="fragment">$ leaf getsrc swi-linux
</pre><p>Once the source code for Linux is downloaded leaf removes the links to the pre-built toolchain and linux images. You must rebuild those from <a href="https://source.sierrawireless.com/resources/legato/linuxoverview/">source code.</a></p>
<p>To disable leaf from using the Linux source code and switch back to using the pre-built toolchain and Linux image disable the <code>getsrc</code> function. </p><pre class="fragment">$ leaf getsrc swi-linux --disable
</pre><h1><a class="anchor" id="confLeafSrc_Env"></a>
Leaf Environment</h1>
<p>Switching to use the source code is only currently supported for one profile per workspace. If you need to work with multiple version of the source code that we suggest creating different workspaces (folders) for each instance.</p>
<p>The legato source code is not pre-built for a target, to be able to use the Legato build and target management tools you must make Legato for your target from within the Legato root directory. See <a class="el" href="basicBuildMake.html">Configure the Application Framework</a> for details on configuring the Legato Application Framework.</p>
<p>Once make is run the legato shell will pick up all the build and target management tools and you are able to use the Legato Application Framework Source Code to build your Systems and Apps in the same way that you used the pre-built Framework.</p>
<h1><a class="anchor" id="confLeafSrc_Update"></a>
Update Source Code to a New Version</h1>
<p>leaf update supports updating the source code as well, if you wish to update to a new version of the Framework (including the source code), from your workspace directory run leaf update -p &lt;new package="" identifier&gt;=""&gt;. As part of the set-up process leaf will run a repo command to update your source code to the version that matches the update.</p>
<dl class="section note"><dt>Note</dt><dd>You will either need to commit or stash any changes before leaf update can be run when using the source code.</dd></dl>
<h1><a class="anchor" id="confLeafSrc_Disable"></a>
Disabling the Source Code</h1>
<p>If for any reason that you want to switch back and use the pre-built version of the Legato Application Framework you can do that by using the following command: </p><pre class="fragment">$ leaf getsrc legato --disable
</pre><pre class="fragment">$ leaf getsrc swi-linux --disable
</pre><p>This will download and install any missing packages for the version and will update the environment to use the pre-built version of Legato or Linux. <b>Leaf will not remove the source code directory.</b></p>
<p class="copyright">Copyright (C) Sierra Wireless Inc. </p>
</div></div>
<br clear="left"/>
</div>
</div>
<link href="resources/css/jqtree.css" rel="stylesheet" type="text/css"/>
<script src="resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<link href="resources/css/perfect-scrollbar.min.css" rel="stylesheet"/>
<script src="resources/js/perfect-scrollbar.jquery.min.js"></script>
</body>
</html>
