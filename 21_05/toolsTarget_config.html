<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html data-context="Build Apps" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>config  - Legato Docs</title>
<meta content="legatoâ„¢ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description"/>
<meta content="legato, iot" name="keywords"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="21.05.0" name="legato-version"/>
<link href="resources/images/legato.ico" rel="shortcut icon"/>
<link href="resources/images/legato.ico" rel="icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="apple-touch-icon" type="image/x-icon"/>
<link href="resources/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
<!--[if IE]>
    <script src="resources/js/html5shiv.js"></script>
    <script src="resources/js/respond.js"></script>
  <![endif]-->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="resources/js/main.js"></script>
<script src="tocs/Build_Apps_Tools.json"></script>
</head>
<body>
<noscript>
<input class="modal-closing-trick" id="modal-closing-trick" type="checkbox"/>
<div id="nojs">
<label for="modal-closing-trick">
<span>You seem to not have Javascript <a href="http://enable-javascript.com">enabled</a>, so site functionality like the search and navigation tree won't work.</span>
</label>
</div>
</noscript>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/">Introduction</a><a class="navlink selected" href="buildAppsMain.html">Build Apps</a><a class="navlink" href="buildPlatformMain.html">Build Platform</a><a class="navlink" href="aboutMain.html">About</a>
</nav>
</header>
</div>
<div class="white" id="menudocumentation">
<header>
<a href="/"> <img alt="Back to Legato Homepage" id="logo" src="resources/images/legato_logo.png"/></a>
<h2>/ Build Apps</h2>
<nav class="secondary">
<a href="getStarted.html">Get Started</a><a href="concepts.html">Concepts</a><a href="apiGuidesMain.html">API Guides</a><a class="link-selected" href="tools.html">Tools</a><a href="howToMain.html">How To</a><a href="experimentalMain.html">Experimental Features</a><a href="migrationGuide.html">Linux 4.14 Migration Guide</a>
</nav>
<nav class="ui-front">
<i class="fa fa-search" id="search-icon"></i>
<input id="searchbox" placeholder="Search"/>
</nav>
</header>
</div>
<div id="resizable">
<div id="left">
<div id="tree1"></div>
</div>
</div>
<div class="content">
<div class="header">
<div class="headertitle">
<h1 class="title">config </h1> </div>
</div><div class="contents">
<div class="textblock"><p>Use the Config tool to change a target's configuration database.</p>
<p>Functions supported include: inspect a tree, read/write values, and import/export entire tree sections.</p>
<h1><a class="anchor" id="toolsTarget_config_usage"></a>
Usage</h1>
<p><b><code> config [OPTIONS] </code></b></p>
<pre class="fragment">config get &lt;tree path&gt; [--format=json] </pre> <blockquote class="doxtable">
<p>Read a value. </p>
</blockquote>
<pre class="fragment">config set &lt;tree path&gt; &lt;new value&gt; [&lt;type&gt;] </pre> <blockquote class="doxtable">
<p>Write a value. </p>
</blockquote>
<pre class="fragment">config move &lt;node path&gt; &lt;new name&gt; </pre> <blockquote class="doxtable">
<p>Move a node. </p>
</blockquote>
<pre class="fragment">config copy &lt;node path&gt; &lt;new name&gt; </pre> <blockquote class="doxtable">
<p>Copy a node. </p>
</blockquote>
<pre class="fragment">config delete &lt;tree path&gt; </pre> <blockquote class="doxtable">
<p>Delete a node. </p>
</blockquote>
<pre class="fragment">config clear &lt;tree path&gt; </pre> <blockquote class="doxtable">
<p>Clear a node. Or create a new empty node if it didn't previously exist. </p>
</blockquote>
<pre class="fragment">config import &lt;tree path&gt; &lt;file path&gt; [--format=json] </pre> <blockquote class="doxtable">
<p>Import config data. </p>
</blockquote>
<pre class="fragment">config export &lt;tree path&gt; &lt;file path&gt; [--format=json] </pre> <blockquote class="doxtable">
<p>Export config data. </p>
</blockquote>
<pre class="fragment">config list </pre> <blockquote class="doxtable">
<p>List all config trees. </p>
</blockquote>
<pre class="fragment">config rmtree &lt;tree name&gt; </pre> <blockquote class="doxtable">
<p>Delete a tree. </p>
</blockquote>
<pre class="fragment">config help </pre> <blockquote class="doxtable">
<p>Display help. </p>
</blockquote>
<h2><a class="anchor" id="toolsTarget_config_options"></a>
Options</h2>
<pre class="fragment">&lt;tree path&gt; </pre> <blockquote class="doxtable">
<p>Path to the tree and node to configure. </p>
</blockquote>
<pre class="fragment">&lt;tree name&gt; </pre> <blockquote class="doxtable">
<p>Is the name of a tree in the system, but without a path. </p>
</blockquote>
<pre class="fragment">&lt;file path&gt; </pre> <blockquote class="doxtable">
<p>Path to the file for import/export. </p>
</blockquote>
<pre class="fragment">&lt;new value&gt; </pre> <blockquote class="doxtable">
<p>String value to write to the config tree. </p>
</blockquote>
<pre class="fragment">&lt;type&gt; </pre> <blockquote class="doxtable">
<p>Optional, must be bool, int, float, or string. If tool, must be true or false. If unspecified, default type is string. </p>
</blockquote>
<pre class="fragment">--format=json </pre> <blockquote class="doxtable">
<p>For imports, then properly formatted JSON will be expected. For exports, then the data will be generated as well. It is also possible to specify JSON for the get sub-command. </p>
</blockquote>
<h1><a class="anchor" id="toolsTarget_config_treePaths"></a>
Tree Paths</h1>
<p>A tree path is specified similar to a <code>*nix</code> path. With the beginning slash being optional. </p><pre class="fragment">For example:

  @c /a/path/to/somewhere
or
  @c a/path/to/somewhere
</pre><p>The configTree supports multiple trees, a default tree is assigned per user. If the config tool is run as root, then alternative trees can be specified in the path by entering a tree name, then a colon and the value path.</p>
<p>Here's an example using the tree named 'foo' instead of the default tree: </p><pre class="fragment"> @c foo:/a/path/to/somewhere
</pre><h2><a class="anchor" id="configtoolsTarget_config_TreeLocation"></a>
Tree Location</h2>
<p>The trees themselves are stored in the file system at: </p><pre class="fragment">/legato/systems/current/configTree </pre><p>The configTree cycles through the extensions, .rock, .paper, and .scissors to differentiate between versions of the tree file. The base file name is the same as the tree.</p>
<p>A listing for /legato/systems/current/configTree where the system tree and the user trees are foo and bar looks like this:</p>
<pre class="fragment"># ls /legato/systems/current/config/ -l
total 32
-rw------- 1 user user  3456 May 12 11:02 bar.rock
-rw------- 1 user user  3456 May  9 11:04 foo.scissors
-rw------- 1 user user 21037 May  9 11:04 system.paper
</pre><p>The system, or root user, has its own tree; each application has a separate tree.</p>
<h1><a class="anchor" id="toolsTarget_config_Samples"></a>
Config Code Samples</h1>
<p>To dump a tree, run this to get the default tree for the current user:</p>
<pre class="fragment">config get / </pre><dl class="section note"><dt>Note</dt><dd>if running as root <code>config</code> <code>get</code> <code>/</code> will return the <b>System</b> Tree</dd></dl>
<p>Or to get a specific tree:</p>
<pre class="fragment"># config get foo:/
/
  helloWorld/
    greeted&lt;bool&gt; == true
    ignored&lt;bool&gt; == false
</pre><p>The config tool can also read and write individual values. You can read the value of greeted like this:</p>
<pre class="fragment"># config get /helloWorld/greeted
true
</pre><p>If you want to see everything under helloWorld: </p><pre class="fragment"># config get /helloWorld
helloWorld/
  greeted&lt;bool&gt; == true
  ignored&lt;bool&gt; == false
</pre><p>If you want to change the value of ignored: </p><pre class="fragment"># config set /helloWorld/ignored true bool
</pre><p>You can check it by running: </p><pre class="fragment"># config get /helloWorld/ignored
true
</pre><p>If the config tool is listing a tree, it will display the node name and a / if the current node has children (except for the root node, as the root node does not have a name.)</p>
<p>For leaf nodes, the config tool will display the value type in angle brackets, &lt;&gt;, as well as its name and actual value:</p>
<pre class="fragment">/
  testValues/
    aBoolValue&lt;bool&gt; == true
    aStringValue&lt;string&gt; == This is some text I saved.
    anIntValue&lt;int&gt; == 1024
    afloatValue&lt;float&gt; == 10.24
</pre><p class="copyright">Copyright (C) Sierra Wireless Inc. </p>
</div></div>
<br clear="left"/>
</div>
</div>
<link href="resources/css/jqtree.css" rel="stylesheet" type="text/css"/>
<script src="resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<link href="resources/css/perfect-scrollbar.min.css" rel="stylesheet"/>
<script src="resources/js/perfect-scrollbar.jquery.min.js"></script>
</body>
</html>
