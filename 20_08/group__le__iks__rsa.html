<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html data-context="Build Apps" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>le_iks_rsa API Reference - Legato Docs</title>
<meta content="legato™ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description"/>
<meta content="legato, iot" name="keywords"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="20.08.0" name="legato-version"/>
<link href="resources/images/legato.ico" rel="shortcut icon"/>
<link href="resources/images/legato.ico" rel="icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="apple-touch-icon" type="image/x-icon"/>
<link href="resources/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
<!--[if IE]>
        <script src="resources/js/html5shiv.js"></script>
        <script src="resources/js/respond.js"></script>
        <![endif]-->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="resources/js/main.js"></script>
<script src="tocs/Build_Apps_API_Guides.json"></script>
</head>
<body>
<noscript>
<input class="modal-closing-trick" id="modal-closing-trick" type="checkbox"/>
<div id="nojs">
<label for="modal-closing-trick">
<span>You seem to not have Javascript <a href="http://enable-javascript.com">enabled</a>, so site functionality like the search and navigation tree won't work.</span>
</label>
</div>
</noscript>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/">Introduction</a><a class="navlink selected" href="buildAppsMain.html">Build Apps</a><a class="navlink" href="buildPlatformMain.html">Build Platform</a><a class="navlink" href="aboutMain.html">About</a>
</nav>
</header>
</div>
<div class="white" id="menudocumentation">
<header>
<a href="/"> <img alt="Back to Legato Homepage" id="logo" src="resources/images/legato_logo.png"/></a>
<h2>/ Build Apps</h2>
<nav class="secondary">
<a href="getStarted.html">Get Started</a><a href="concepts.html">Concepts</a><a class="link-selected" href="apiGuidesMain.html">API Guides</a><a href="tools.html">Tools</a><a href="howToMain.html">How To</a><a href="experimentalMain.html">Experimental Features</a>
</nav>
<nav class="ui-front">
<i class="fa fa-search" id="search-icon"></i>
<input id="searchbox" placeholder="Search"/>
</nav>
</header>
</div>
<div id="resizable">
<div id="left">
<div id="tree1"></div>
</div>
</div>
<div class="content">
<div class="header">
<div class="summary">
<a href="#files">Files</a> |
<a href="#define-members">Macros</a> |
<a href="#typedef-members">Typedefs</a> |
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<h1 class="title">le_iks_rsa API Reference</h1> </div>
</div><div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:le__iks__rsa__common_8h"><td align="right" class="memItemLeft" valign="top">file  </td><td class="memItemRight" valign="bottom"><a class="el" href="le__iks__rsa__common_8h.html">le_iks_rsa_common.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:le__iks__rsa__interface_8h"><td align="right" class="memItemLeft" valign="top">file  </td><td class="memItemRight" valign="bottom"><a class="el" href="le__iks__rsa__interface_8h.html">le_iks_rsa_interface.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf4299d40395f258bd787fbc1447e8e64"><td align="right" class="memItemLeft" valign="top">#define </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#gaf4299d40395f258bd787fbc1447e8e64">LE_IKS_RSA_PUB_EXP</a>   65537</td></tr>
<tr class="separator:gaf4299d40395f258bd787fbc1447e8e64"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga46ed69a7b19f8d68b34b353e068b2280"><td align="right" class="memItemLeft" valign="top">#define </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga46ed69a7b19f8d68b34b353e068b2280">LE_IKS_RSA_MAX_LABEL_SIZE</a>   256</td></tr>
<tr class="separator:ga46ed69a7b19f8d68b34b353e068b2280"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8420e430b6219a8b8ed73a578270eb49"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga8420e430b6219a8b8ed73a578270eb49">le_iks_rsa_DisconnectHandler_t</a>) (void *)</td></tr>
<tr class="separator:ga8420e430b6219a8b8ed73a578270eb49"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga24d5c3f3989d78d7e9ab389d6516a31d"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga24d5c3f3989d78d7e9ab389d6516a31d">le_iks_rsa_ConnectService</a> (void)</td></tr>
<tr class="separator:ga24d5c3f3989d78d7e9ab389d6516a31d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga52318fb6bea5920e348af1199af3ce25"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga52318fb6bea5920e348af1199af3ce25">le_iks_rsa_TryConnectService</a> (void)</td></tr>
<tr class="separator:ga52318fb6bea5920e348af1199af3ce25"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga03f5ab26dd05eddcd29530a0a1f3201f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__apiFeatures_8h.html#a410b5eb5dc002cff21fffc3d61d29532">LE_FULL_API</a> void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga03f5ab26dd05eddcd29530a0a1f3201f">le_iks_rsa_SetServerDisconnectHandler</a> (<a class="el" href="group__le__iks__rsa.html#ga8420e430b6219a8b8ed73a578270eb49">le_iks_rsa_DisconnectHandler_t</a> disconnectHandler, void *contextPtr)</td></tr>
<tr class="separator:ga03f5ab26dd05eddcd29530a0a1f3201f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga0e85bcdbf7712c02261df0477fcc2e04"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga0e85bcdbf7712c02261df0477fcc2e04">le_iks_rsa_DisconnectService</a> (void)</td></tr>
<tr class="separator:ga0e85bcdbf7712c02261df0477fcc2e04"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga5030498e123da816168d2d6fc62e34a7"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga5030498e123da816168d2d6fc62e34a7">le_iks_rsa_Oaep_Encrypt</a> (uint64_t keyRef, const uint8_t *labelPtr, size_t labelSize, const uint8_t *plaintextPtr, size_t plaintextSize, uint8_t *ciphertextPtr, size_t *ciphertextSizePtr)</td></tr>
<tr class="separator:ga5030498e123da816168d2d6fc62e34a7"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga1679a967e57384306e4d3f0174d2349f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga1679a967e57384306e4d3f0174d2349f">le_iks_rsa_Oaep_Decrypt</a> (uint64_t keyRef, const uint8_t *labelPtr, size_t labelSize, const uint8_t *ciphertextPtr, size_t ciphertextSize, uint8_t *plaintextPtr, size_t *plaintextSizePtr)</td></tr>
<tr class="separator:ga1679a967e57384306e4d3f0174d2349f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga42af37fa31ed65351d27be15350b6b45"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga42af37fa31ed65351d27be15350b6b45">le_iks_rsa_Pss_GenSig</a> (uint64_t keyRef, uint32_t saltSize, const uint8_t *digestPtr, size_t digestSize, uint8_t *signaturePtr, size_t *signatureSizePtr)</td></tr>
<tr class="separator:ga42af37fa31ed65351d27be15350b6b45"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga37e1f89007cfec25732d9cec72831866"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__iks__rsa.html#ga37e1f89007cfec25732d9cec72831866">le_iks_rsa_Pss_VerifySig</a> (uint64_t keyRef, uint32_t saltSize, const uint8_t *digestPtr, size_t digestSize, const uint8_t *signaturePtr, size_t signatureSize)</td></tr>
<tr class="separator:ga37e1f89007cfec25732d9cec72831866"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga46ed69a7b19f8d68b34b353e068b2280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46ed69a7b19f8d68b34b353e068b2280">◆ </a></span>LE_IKS_RSA_MAX_LABEL_SIZE</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">#define LE_IKS_RSA_MAX_LABEL_SIZE   256</td>
</tr>
</table>
</div><div class="memdoc">
<p>The RSA public exponent used by all IOT Key Store RSA functions. </p>
</div>
</div>
<a id="gaf4299d40395f258bd787fbc1447e8e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4299d40395f258bd787fbc1447e8e64">◆ </a></span>LE_IKS_RSA_PUB_EXP</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">#define LE_IKS_RSA_PUB_EXP   65537</td>
</tr>
</table>
</div><div class="memdoc">
<p>The RSA public exponent used by all IOT Key Store RSA functions. </p>
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga8420e430b6219a8b8ed73a578270eb49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8420e430b6219a8b8ed73a578270eb49">◆ </a></span>le_iks_rsa_DisconnectHandler_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(* le_iks_rsa_DisconnectHandler_t) (void *)</td>
</tr>
</table>
</div><div class="memdoc">
<p>Type for handler called when a server disconnects. </p>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga24d5c3f3989d78d7e9ab389d6516a31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24d5c3f3989d78d7e9ab389d6516a31d">◆ </a></span>le_iks_rsa_ConnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_iks_rsa_ConnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Connect the current client thread to the service providing this API. Block until the service is available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically. </p>
</div>
</div>
<a id="ga0e85bcdbf7712c02261df0477fcc2e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e85bcdbf7712c02261df0477fcc2e04">◆ </a></span>le_iks_rsa_DisconnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_iks_rsa_DisconnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Disconnect the current client thread from the service providing this API.</p>
<p>Normally, this function doesn't need to be called. After this function is called, there's no longer a connection to the service, and the functions in this API can't be used. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically. </p>
</div>
</div>
<a id="ga1679a967e57384306e4d3f0174d2349f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1679a967e57384306e4d3f0174d2349f">◆ </a></span>le_iks_rsa_Oaep_Decrypt()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_iks_rsa_Oaep_Decrypt </td>
<td>(</td>
<td class="paramtype">uint64_t </td>
<td class="paramname"><em>keyRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>labelPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>labelSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>ciphertextPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>ciphertextSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uint8_t * </td>
<td class="paramname"><em>plaintextPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t * </td>
<td class="paramname"><em>plaintextSizePtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Decrypts a message with RSAES-OAEP (RSA Encryption Scheme - Optimal Asymmetric Encryption Padding).</p>
<p>The maximum plaintext size (pLen bytes) depends on the key size (kLen bytes) and the hash digest size (hLen bytes) according to the equation: pLen = kLen - 2*hLen - 2 For example, with a 2048 bit key using SHA-224 the maximum plaintext size is 226 bytes. The plaintextPtr buffer is assumed to be large enough to hold the plaintext. A safe size for this buffer is kLen.</p>
<p>The optional label associated with the message is restricted to less than or equal to MAX_LABEL_SIZE and should be the same label used for encryption.</p>
<p>The ciphertext size is expected to be the same as the key size (kLen).</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_BAD_PARAMETER if the key reference is invalid or if the key type is invalid or if the either the ciphertextPtr or plaintextSizePtr is NULL. LE_OUT_OF_RANGE if the labelSize is too big. LE_FORMAT_ERROR if the ciphertextSize does not match the key size. LE_OVERFLOW if the plaintextSizePtr is too small to hold the plaintext. LE_FAULT if the decryption failed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">keyRef</td><td>Key reference. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label. NULL if not used. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">labelSize</td><td></td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">ciphertextPtr</td><td>Ciphertext. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">ciphertextSize</td><td></td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">plaintextPtr</td><td>Buffer to hold the plaintext. </td></tr>
<tr><td class="paramdir">[in,out]</td><td class="paramname">plaintextSizePtr</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga5030498e123da816168d2d6fc62e34a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5030498e123da816168d2d6fc62e34a7">◆ </a></span>le_iks_rsa_Oaep_Encrypt()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_iks_rsa_Oaep_Encrypt </td>
<td>(</td>
<td class="paramtype">uint64_t </td>
<td class="paramname"><em>keyRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>labelPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>labelSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>plaintextPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>plaintextSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uint8_t * </td>
<td class="paramname"><em>ciphertextPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t * </td>
<td class="paramname"><em>ciphertextSizePtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Encrypts a message with RSAES-OAEP (RSA Encryption Scheme - Optimal Asymmetric Encryption Padding).</p>
<p>The maximum plaintext size (pLen bytes) depends on the key size (kLen bytes) and the hash digest size (hLen bytes) according to the equation: pLen = kLen - 2*hLen - 2 For example, with a 2048 bit key using SHA-224 the maximum plaintext size is 226 bytes.</p>
<p>An optional label associated with the message can be added. The label is restricted to less than or equal to MAX_LABEL_SIZE. The same label must be provided during decryption.</p>
<p>The ciphertext size is always kLen bytes (key size) and the ciphertextPtr buffer should be large enough to hold the ciphertext.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_BAD_PARAMETER if the key reference is invalid of if the key type is invalid or if plaintextPtr, ciphertextPtr or ciphertextSizePtr is NULL. LE_OUT_OF_RANGE if either the labelSize or the plaintextSize is too big. LE_OVERFLOW if the ciphertext buffer is too small. LE_FAULT if there was an internal error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">keyRef</td><td>Key reference. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">labelPtr</td><td>Label. NULL if not used. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">labelSize</td><td></td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">plaintextPtr</td><td>Plaintext. NULL if not used. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">plaintextSize</td><td></td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">ciphertextPtr</td><td>Buffer to hold the ciphertext. </td></tr>
<tr><td class="paramdir">[in,out]</td><td class="paramname">ciphertextSizePtr</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga42af37fa31ed65351d27be15350b6b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42af37fa31ed65351d27be15350b6b45">◆ </a></span>le_iks_rsa_Pss_GenSig()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_iks_rsa_Pss_GenSig </td>
<td>(</td>
<td class="paramtype">uint64_t </td>
<td class="paramname"><em>keyRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uint32_t </td>
<td class="paramname"><em>saltSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>digestPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>digestSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uint8_t * </td>
<td class="paramname"><em>signaturePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t * </td>
<td class="paramname"><em>signatureSizePtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Generates a signature on the hash digest of a message with RSASSA-PSS (RSA Signature Scheme with Appendix - Probabilistic Signature Scheme).</p>
<p>Signatures are generally only created on a hash of a message rather than directly on the message itself this function follows this paradigm. However, the same hash function used to create the signature must be used to create the digest of the message. For example, if the key type is LE_IKS_KEY_TYPE_PRIV_RSASSA_PSS_SHA512 then SHA512 muust be used to create the digest for the message. The digest size should be the output size of the hash function being used.</p>
<p>The salt size should generally be small between 8 and 16 bytes. Strictly, it must be less than keySize - hLen - 2 where hLen is the output size of the hash function used to create the signature.</p>
<p>The signature size is always the size of the key. The signature buffer should be large enough to hold the signature.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_BAD_PARAMETER if the key reference is invalid or if the key type is invalid or if digestPtr, signaturePtr or signatureSizePtr are NULL. LE_OUT_OF_RANGE if either the saltSize or the digestSize is too big. LE_OVERFLOW if the signature buffer is too small. LE_FAULT if there was an internal error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">keyRef</td><td>Key reference. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">saltSize</td><td>Salt size. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">digestPtr</td><td>Digest to sign. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">digestSize</td><td></td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">signaturePtr</td><td>Buffer to hold the signature. </td></tr>
<tr><td class="paramdir">[in,out]</td><td class="paramname">signatureSizePtr</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga37e1f89007cfec25732d9cec72831866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37e1f89007cfec25732d9cec72831866">◆ </a></span>le_iks_rsa_Pss_VerifySig()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_iks_rsa_Pss_VerifySig </td>
<td>(</td>
<td class="paramtype">uint64_t </td>
<td class="paramname"><em>keyRef</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">uint32_t </td>
<td class="paramname"><em>saltSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>digestPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>digestSize</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const uint8_t * </td>
<td class="paramname"><em>signaturePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>signatureSize</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Verifies a signature of the hash digest of a message with RSASSA-PSS (RSA Signature Scheme with Appendix - Probabilistic Signature Scheme).</p>
<p>Signatures are generally only created on a hash of a message rather than directly on the message itself this function follows this paradigm. However, the same hash function used to create the signature must be used to create the digest of the message. For example, if the key type is LE_IKS_KEY_TYPE_PRIV_RSASSA_PSS_SHA512 then SHA512 muust be used to create the digest for the message. The digest size should be the output size of the hash function being used.</p>
<p>The salt size should generally be small between 8 and 16 bytes. Strictly, it must be less than keySize - hLen - 2 where hLen is the output size of the hash function used to create the signature.</p>
<p>The signature size should always the size of the key.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_BAD_PARAMETER if the key reference is invalid or if the key type is invalid or if either digestPtr or signaturePtr are NULL. LE_OUT_OF_RANGE if either the saltSize or the digestSize is too big. LE_FORMAT_ERROR if signatureSize does not match the key size. LE_FAULT if the signature is not valid. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">keyRef</td><td>Key reference. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">saltSize</td><td>Salt size. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">digestPtr</td><td>Digest to sign. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">digestSize</td><td></td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">signaturePtr</td><td>Signature of the message. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">signatureSize</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga03f5ab26dd05eddcd29530a0a1f3201f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03f5ab26dd05eddcd29530a0a1f3201f">◆ </a></span>le_iks_rsa_SetServerDisconnectHandler()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__apiFeatures_8h.html#a410b5eb5dc002cff21fffc3d61d29532">LE_FULL_API</a> void le_iks_rsa_SetServerDisconnectHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="group__le__iks__rsa.html#ga8420e430b6219a8b8ed73a578270eb49">le_iks_rsa_DisconnectHandler_t</a> </td>
<td class="paramname"><em>disconnectHandler</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Set handler called when server disconnection is detected.</p>
<p>When a server connection is lost, call this handler then exit with LE_FATAL. If a program wants to continue without exiting, it should call longjmp() from inside the handler. </p>
</div>
</div>
<a id="ga52318fb6bea5920e348af1199af3ce25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52318fb6bea5920e348af1199af3ce25">◆ </a></span>le_iks_rsa_TryConnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_iks_rsa_TryConnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Try to connect the current client thread to the service providing this API. Return with an error if the service is not available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if the client connected successfully to the service.</li>
<li>LE_UNAVAILABLE if the server is not currently offering the service to which the client is bound.</li>
<li>LE_NOT_PERMITTED if the client interface is not bound to any service (doesn't have a binding).</li>
<li>LE_COMM_ERROR if the Service Directory cannot be reached. </li>
</ul>
</dd></dl>
</div>
</div>
</div>
<br clear="left"/>
</div>
</div>
<link href="resources/css/jqtree.css" rel="stylesheet" type="text/css"/>
<script src="resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<link href="resources/css/perfect-scrollbar.min.css" rel="stylesheet"/>
<script src="resources/js/perfect-scrollbar.jquery.min.js"></script>
</body>
</html>
