<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html data-context="Build Apps" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>le_update API Reference - Legato Docs</title>
<meta content="legato™ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description"/>
<meta content="legato, iot" name="keywords"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="20.08.0" name="legato-version"/>
<link href="resources/images/legato.ico" rel="shortcut icon"/>
<link href="resources/images/legato.ico" rel="icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="apple-touch-icon" type="image/x-icon"/>
<link href="resources/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
<!--[if IE]>
    <script src="resources/js/html5shiv.js"></script>
    <script src="resources/js/respond.js"></script>
  <![endif]-->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="resources/js/main.js"></script>
<script src="tocs/Build_Apps_API_Guides.json"></script>
</head>
<body>
<noscript>
<input class="modal-closing-trick" id="modal-closing-trick" type="checkbox"/>
<div id="nojs">
<label for="modal-closing-trick">
<span>You seem to not have Javascript <a href="http://enable-javascript.com">enabled</a>, so site functionality like the search and navigation tree won't work.</span>
</label>
</div>
</noscript>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/">Introduction</a><a class="navlink selected" href="buildAppsMain.html">Build Apps</a><a class="navlink" href="buildPlatformMain.html">Build Platform</a><a class="navlink" href="aboutMain.html">About</a>
</nav>
</header>
</div>
<div class="white" id="menudocumentation">
<header>
<a href="/"> <img alt="Back to Legato Homepage" id="logo" src="resources/images/legato_logo.png"/></a>
<h2>/ Build Apps</h2>
<nav class="secondary">
<a href="getStarted.html">Get Started</a><a href="concepts.html">Concepts</a><a class="link-selected" href="apiGuidesMain.html">API Guides</a><a href="tools.html">Tools</a><a href="howToMain.html">How To</a><a href="experimentalMain.html">Experimental Features</a>
</nav>
<nav class="ui-front">
<i class="fa fa-search" id="search-icon"></i>
<input id="searchbox" placeholder="Search"/>
</nav>
</header>
</div>
<div id="resizable">
<div id="left">
<div id="tree1"></div>
</div>
</div>
<div class="content">
<div class="header">
<div class="summary">
<a href="#files">Files</a> |
<a href="#typedef-members">Typedefs</a> |
<a href="#enum-members">Enumerations</a> |
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<h1 class="title">le_update API Reference</h1> </div>
</div><div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:le__update__common_8h"><td align="right" class="memItemLeft" valign="top">file  </td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__common_8h.html">le_update_common.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:le__update__interface_8h"><td align="right" class="memItemLeft" valign="top">file  </td><td class="memItemRight" valign="bottom"><a class="el" href="le__update__interface_8h.html">le_update_interface.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga20a94b986a9ba0e6772b146f98b95f92"><td align="right" class="memItemLeft" valign="top">typedef struct le_update_ProgressHandler * </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a></td></tr>
<tr class="separator:ga20a94b986a9ba0e6772b146f98b95f92"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga76d8e535f504fdbef5ce68d56845c9c9"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga76d8e535f504fdbef5ce68d56845c9c9">le_update_ProgressHandlerFunc_t</a>) (<a class="el" href="group__le__update.html#gae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> updateState, uint32_t percentDone, void *contextPtr)</td></tr>
<tr class="separator:ga76d8e535f504fdbef5ce68d56845c9c9"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gad09ef82838e9019dbe5d4057422783c0"><td align="right" class="memItemLeft" valign="top">typedef void(* </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a>) (void *)</td></tr>
<tr class="separator:gad09ef82838e9019dbe5d4057422783c0"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae9758536ebaf1842cdaaddd6cf95a672"><td align="right" class="memItemLeft" valign="top">enum  </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> { <br/>
  <a class="el" href="group__le__update.html#ggae9758536ebaf1842cdaaddd6cf95a672a01cdf8340b000eb108dd8d9a350147db">LE_UPDATE_STATE_UNPACKING</a> = 0, 
<a class="el" href="group__le__update.html#ggae9758536ebaf1842cdaaddd6cf95a672af440436711a501bf174b96fcda5f5ecb">LE_UPDATE_STATE_DOWNLOAD_SUCCESS</a> = 1, 
<a class="el" href="group__le__update.html#ggae9758536ebaf1842cdaaddd6cf95a672ae950e649ac258bc23ba0c315904bca77">LE_UPDATE_STATE_APPLYING</a> = 2, 
<a class="el" href="group__le__update.html#ggae9758536ebaf1842cdaaddd6cf95a672ae18d6a3b4f86d5cbfc693cb054d91845">LE_UPDATE_STATE_SUCCESS</a> = 3, 
<br/>
  <a class="el" href="group__le__update.html#ggae9758536ebaf1842cdaaddd6cf95a672a67f0990e9adccbc2cda0ad78ab98d894">LE_UPDATE_STATE_FAILED</a> = 4
<br/>
 }</td></tr>
<tr class="separator:gae9758536ebaf1842cdaaddd6cf95a672"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga24bac90fc939c561c64d13608cc78a20"><td align="right" class="memItemLeft" valign="top">enum  </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> { <a class="el" href="group__le__update.html#gga24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e">LE_UPDATE_ERR_NONE</a> = 0, 
<a class="el" href="group__le__update.html#gga24bac90fc939c561c64d13608cc78a20a75e035563341a91a77d85055545ce9de">LE_UPDATE_ERR_BAD_PACKAGE</a> = 1, 
<a class="el" href="group__le__update.html#gga24bac90fc939c561c64d13608cc78a20a9dfcb8ef952d81438c5bc07ed7a15171">LE_UPDATE_ERR_INTERNAL_ERROR</a> = 2, 
<a class="el" href="group__le__update.html#gga24bac90fc939c561c64d13608cc78a20a4007eb89df91afad15ddd268d1d7e943">LE_UPDATE_ERR_SECURITY_FAILURE</a> = 3
 }</td></tr>
<tr class="separator:ga24bac90fc939c561c64d13608cc78a20"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga338754ee167108f8da4a6023487e4d78"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga338754ee167108f8da4a6023487e4d78">le_update_ConnectService</a> (void)</td></tr>
<tr class="separator:ga338754ee167108f8da4a6023487e4d78"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga423e12ec091de3bc309a652a93c52e4d"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga423e12ec091de3bc309a652a93c52e4d">le_update_TryConnectService</a> (void)</td></tr>
<tr class="separator:ga423e12ec091de3bc309a652a93c52e4d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gaca00ef113e1f05e3ebbb2c0fb0194707"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__apiFeatures_8h.html#a410b5eb5dc002cff21fffc3d61d29532">LE_FULL_API</a> void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gaca00ef113e1f05e3ebbb2c0fb0194707">le_update_SetServerDisconnectHandler</a> (<a class="el" href="group__le__update.html#gad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a> disconnectHandler, void *contextPtr)</td></tr>
<tr class="separator:gaca00ef113e1f05e3ebbb2c0fb0194707"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga5e49e9b047c622ab7e3f617336907f1d"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga5e49e9b047c622ab7e3f617336907f1d">le_update_DisconnectService</a> (void)</td></tr>
<tr class="separator:ga5e49e9b047c622ab7e3f617336907f1d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gaf112ef0dec3807ff24ec5840732cc47f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gaf112ef0dec3807ff24ec5840732cc47f">le_update_AddProgressHandler</a> (<a class="el" href="group__le__update.html#ga76d8e535f504fdbef5ce68d56845c9c9">le_update_ProgressHandlerFunc_t</a> handlerPtr, void *contextPtr)</td></tr>
<tr class="separator:gaf112ef0dec3807ff24ec5840732cc47f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gae2d40ca3fd9c048546e5e7eb923ae449"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gae2d40ca3fd9c048546e5e7eb923ae449">le_update_RemoveProgressHandler</a> (<a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> handlerRef)</td></tr>
<tr class="separator:gae2d40ca3fd9c048546e5e7eb923ae449"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga5b2d287f2403b1228df7ac257f3becd7"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga5b2d287f2403b1228df7ac257f3becd7">le_update_Start</a> (int fd)</td></tr>
<tr class="separator:ga5b2d287f2403b1228df7ac257f3becd7"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga199a167ed14897ab165e3d7a2ae852a0"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga199a167ed14897ab165e3d7a2ae852a0">le_update_Install</a> (void)</td></tr>
<tr class="separator:ga199a167ed14897ab165e3d7a2ae852a0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga2cc57488db74a0a308402bacb14007b1"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga2cc57488db74a0a308402bacb14007b1">le_update_End</a> (void)</td></tr>
<tr class="separator:ga2cc57488db74a0a308402bacb14007b1"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gae839f8383c594c13d8c20b9861919447"><td align="right" class="memItemLeft" valign="top"><a class="el" href="group__le__update.html#ga24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#gae839f8383c594c13d8c20b9861919447">le_update_GetErrorCode</a> (void)</td></tr>
<tr class="separator:gae839f8383c594c13d8c20b9861919447"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga7ae02132ca690606a1d556aff5f3a4c4"><td align="right" class="memItemLeft" valign="top">int32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga7ae02132ca690606a1d556aff5f3a4c4">le_update_GetCurrentSysIndex</a> (void)</td></tr>
<tr class="separator:ga7ae02132ca690606a1d556aff5f3a4c4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga397981b56b2dd6855ca3375ae9c61ac2"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga397981b56b2dd6855ca3375ae9c61ac2">le_update_GetSystemHash</a> (int32_t systemIndex, char *hashStr, size_t hashStrSize)</td></tr>
<tr class="separator:ga397981b56b2dd6855ca3375ae9c61ac2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ga82196efdc87d57f62d40a195cbafd2eb"><td align="right" class="memItemLeft" valign="top">int32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__update.html#ga82196efdc87d57f62d40a195cbafd2eb">le_update_GetPreviousSystemIndex</a> (int32_t systemIndex)</td></tr>
<tr class="separator:ga82196efdc87d57f62d40a195cbafd2eb"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad09ef82838e9019dbe5d4057422783c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad09ef82838e9019dbe5d4057422783c0">◆ </a></span>le_update_DisconnectHandler_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(* le_update_DisconnectHandler_t) (void *)</td>
</tr>
</table>
</div><div class="memdoc">
<p>Type for handler called when a server disconnects. </p>
</div>
</div>
<a id="ga76d8e535f504fdbef5ce68d56845c9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76d8e535f504fdbef5ce68d56845c9c9">◆ </a></span>le_update_ProgressHandlerFunc_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef void(* le_update_ProgressHandlerFunc_t) (<a class="el" href="group__le__update.html#gae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a> updateState, uint32_t percentDone, void *contextPtr)</td>
</tr>
</table>
</div><div class="memdoc">
<p>The client callback function (handler) passed to <a class="el" href="group__le__update.html#ga5b2d287f2403b1228df7ac257f3becd7">le_update_Start()</a> must look like this. </p>
</div>
</div>
<a id="ga20a94b986a9ba0e6772b146f98b95f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20a94b986a9ba0e6772b146f98b95f92">◆ </a></span>le_update_ProgressHandlerRef_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef struct le_update_ProgressHandler* <a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Reference type used by Add/Remove functions for EVENT 'le_update_Progress' </p>
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga24bac90fc939c561c64d13608cc78a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24bac90fc939c561c64d13608cc78a20">◆ </a></span>le_update_ErrorCode_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">enum <a class="el" href="group__le__update.html#ga24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Error code used to provide diagnostic information after a failed update.</p>
<dl class="section note"><dt>Note</dt><dd>Additional information may also be available in the target device's system log. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga24bac90fc939c561c64d13608cc78a20a5473b80d9e60fc1a8fd5f78a47b1c69e"></a>LE_UPDATE_ERR_NONE </td><td class="fielddoc"><p>No error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga24bac90fc939c561c64d13608cc78a20a75e035563341a91a77d85055545ce9de"></a>LE_UPDATE_ERR_BAD_PACKAGE </td><td class="fielddoc"><p>Encountered bad update package. Check logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga24bac90fc939c561c64d13608cc78a20a9dfcb8ef952d81438c5bc07ed7a15171"></a>LE_UPDATE_ERR_INTERNAL_ERROR </td><td class="fielddoc"><p>Something failed while doing update. Check logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga24bac90fc939c561c64d13608cc78a20a4007eb89df91afad15ddd268d1d7e943"></a>LE_UPDATE_ERR_SECURITY_FAILURE </td><td class="fielddoc"><p>Error while doing security check of the package. </p>
</td></tr>
</table>
</div>
</div>
<a id="gae9758536ebaf1842cdaaddd6cf95a672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9758536ebaf1842cdaaddd6cf95a672">◆ </a></span>le_update_State_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">enum <a class="el" href="group__le__update.html#gae9758536ebaf1842cdaaddd6cf95a672">le_update_State_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Different states in the update state machine. The state machine is maintained to track the update task underway.</p>
<p>Example: for successful installation task, state transitions look like:</p>
<pre class="fragment">    --&gt; UNPACKING --&gt; DOWNLOAD_SUCCESS --&gt; APPLYING --&gt; SUCCESS.
            |                                 |
            +---------------------------------+-------&gt; FAILED.
</pre> <table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae9758536ebaf1842cdaaddd6cf95a672a01cdf8340b000eb108dd8d9a350147db"></a>LE_UPDATE_STATE_UNPACKING </td><td class="fielddoc"><p>Unpacking update data. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae9758536ebaf1842cdaaddd6cf95a672af440436711a501bf174b96fcda5f5ecb"></a>LE_UPDATE_STATE_DOWNLOAD_SUCCESS </td><td class="fielddoc"><p>Update data downloaded successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae9758536ebaf1842cdaaddd6cf95a672ae950e649ac258bc23ba0c315904bca77"></a>LE_UPDATE_STATE_APPLYING </td><td class="fielddoc"><p>Applying update(i.e. installation/removal operation going on). </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae9758536ebaf1842cdaaddd6cf95a672ae18d6a3b4f86d5cbfc693cb054d91845"></a>LE_UPDATE_STATE_SUCCESS </td><td class="fielddoc"><p>Successfully completed all update task. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae9758536ebaf1842cdaaddd6cf95a672a67f0990e9adccbc2cda0ad78ab98d894"></a>LE_UPDATE_STATE_FAILED </td><td class="fielddoc"><p>Update failed due to some error or deletion request. </p>
</td></tr>
</table>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf112ef0dec3807ff24ec5840732cc47f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf112ef0dec3807ff24ec5840732cc47f">◆ </a></span>le_update_AddProgressHandler()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> le_update_AddProgressHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="group__le__update.html#ga76d8e535f504fdbef5ce68d56845c9c9">le_update_ProgressHandlerFunc_t</a> </td>
<td class="paramname"><em>handlerPtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Different states in the update state machine. The state machine is maintained to track the update task underway.</p>
<p>Example: for successful installation task, state transitions look like:</p>
<pre class="fragment">    --&gt; UNPACKING --&gt; DOWNLOAD_SUCCESS --&gt; APPLYING --&gt; SUCCESS.
            |                                 |
            +---------------------------------+-------&gt; FAILED.
</pre><p> Error code used to provide diagnostic information after a failed update.</p>
<dl class="section note"><dt>Note</dt><dd>Additional information may also be available in the target device's system log. The client callback function (handler) passed to <a class="el" href="group__le__update.html#ga5b2d287f2403b1228df7ac257f3becd7">le_update_Start()</a> must look like this. Reference type used by Add/Remove functions for EVENT 'le_update_Progress' Add handler function for EVENT 'le_update_Progress'</dd></dl>
<p>Register for notification of the progress of a given update. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">handlerPtr</td><td>Progress handler </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">contextPtr</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga338754ee167108f8da4a6023487e4d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga338754ee167108f8da4a6023487e4d78">◆ </a></span>le_update_ConnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_update_ConnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Connect the current client thread to the service providing this API. Block until the service is available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically. </p>
</div>
</div>
<a id="ga5e49e9b047c622ab7e3f617336907f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e49e9b047c622ab7e3f617336907f1d">◆ </a></span>le_update_DisconnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_update_DisconnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Disconnect the current client thread from the service providing this API.</p>
<p>Normally, this function doesn't need to be called. After this function is called, there's no longer a connection to the service, and the functions in this API can't be used. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically. </p>
</div>
</div>
<a id="ga2cc57488db74a0a308402bacb14007b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cc57488db74a0a308402bacb14007b1">◆ </a></span>le_update_End()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_update_End </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Ends an update session. If the update isn't finished yet, cancels it. </p>
</div>
</div>
<a id="ga7ae02132ca690606a1d556aff5f3a4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ae02132ca690606a1d556aff5f3a4c4">◆ </a></span>le_update_GetCurrentSysIndex()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int32_t le_update_GetCurrentSysIndex </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Get the index of the currently running system.</p>
<dl class="section return"><dt>Returns</dt><dd>The index of the running system. </dd></dl>
</div>
</div>
<a id="gae839f8383c594c13d8c20b9861919447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae839f8383c594c13d8c20b9861919447">◆ </a></span>le_update_GetErrorCode()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="group__le__update.html#ga24bac90fc939c561c64d13608cc78a20">le_update_ErrorCode_t</a> le_update_GetErrorCode </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Function to get error code when update fails.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code of encountered error.</li>
<li>ERR_NONE if update is in any other state. </li>
</ul>
</dd></dl>
</div>
</div>
<a id="ga82196efdc87d57f62d40a195cbafd2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82196efdc87d57f62d40a195cbafd2eb">◆ </a></span>le_update_GetPreviousSystemIndex()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int32_t le_update_GetPreviousSystemIndex </td>
<td>(</td>
<td class="paramtype">int32_t </td>
<td class="paramname"><em>systemIndex</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Get the index for the previous system in the chain, using the current system as a starting point.</p>
<dl class="section return"><dt>Returns</dt><dd>The index to the system that's previous to the given system. -1 is returned if the previous system was not found. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>Get the system that's older than this system. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga397981b56b2dd6855ca3375ae9c61ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga397981b56b2dd6855ca3375ae9c61ac2">◆ </a></span>le_update_GetSystemHash()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_GetSystemHash </td>
<td>(</td>
<td class="paramtype">int32_t </td>
<td class="paramname"><em>systemIndex</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">char * </td>
<td class="paramname"><em>hashStr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">size_t </td>
<td class="paramname"><em>hashStrSize</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Gets the hash ID for a given system.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if no problems are encountered.</li>
<li>LE_NOT_FOUND if the given index does not correspond to an available system.</li>
<li>LE_OVERFLOW if the supplied buffer is too small.</li>
<li>LE_FORMAT_ERROR if there are problems reading the hash for the system. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">systemIndex</td><td>The system to read the hash for. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">hashStr</td><td>Buffer to hold the system hash string. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">hashStrSize</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga199a167ed14897ab165e3d7a2ae852a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga199a167ed14897ab165e3d7a2ae852a0">◆ </a></span>le_update_Install()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Install </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Install the update</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if installation started.</li>
<li>LE_BUSY if package download is not finished yet.</li>
<li>LE_FAULT if there is an error. Check logs </li>
</ul>
</dd></dl>
</div>
</div>
<a id="gae2d40ca3fd9c048546e5e7eb923ae449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2d40ca3fd9c048546e5e7eb923ae449">◆ </a></span>le_update_RemoveProgressHandler()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_update_RemoveProgressHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="group__le__update.html#ga20a94b986a9ba0e6772b146f98b95f92">le_update_ProgressHandlerRef_t</a> </td>
<td class="paramname"><em>handlerRef</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Remove handler function for EVENT 'le_update_Progress' </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">handlerRef</td><td></td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="gaca00ef113e1f05e3ebbb2c0fb0194707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca00ef113e1f05e3ebbb2c0fb0194707">◆ </a></span>le_update_SetServerDisconnectHandler()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__apiFeatures_8h.html#a410b5eb5dc002cff21fffc3d61d29532">LE_FULL_API</a> void le_update_SetServerDisconnectHandler </td>
<td>(</td>
<td class="paramtype"><a class="el" href="group__le__update.html#gad09ef82838e9019dbe5d4057422783c0">le_update_DisconnectHandler_t</a> </td>
<td class="paramname"><em>disconnectHandler</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>contextPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Set handler called when server disconnection is detected.</p>
<p>When a server connection is lost, call this handler then exit with LE_FATAL. If a program wants to continue without exiting, it should call longjmp() from inside the handler. </p>
</div>
</div>
<a id="ga5b2d287f2403b1228df7ac257f3becd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b2d287f2403b1228df7ac257f3becd7">◆ </a></span>le_update_Start()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_Start </td>
<td>(</td>
<td class="paramtype">int </td>
<td class="paramname"><em>fd</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Starts an update.</p>
<p>Progress is reported via the progress handler callback.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if accepted.</li>
<li>LE_BUSY if another update is in progress.</li>
<li>LE_UNAVAILABLE if the system is still in "probation" (not marked "good" yet). </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>Open file descriptor from which the update can be read. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ga423e12ec091de3bc309a652a93c52e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga423e12ec091de3bc309a652a93c52e4d">◆ </a></span>le_update_TryConnectService()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_update_TryConnectService </td>
<td>(</td>
<td class="paramtype">void </td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Try to connect the current client thread to the service providing this API. Return with an error if the service is not available.</p>
<p>For each thread that wants to use this API, either ConnectService or TryConnectService must be called before any other functions in this API. Normally, ConnectService is automatically called for the main thread, but not for any other thread. For details, see <a class="el" href="apiFilesC.html#apiFilesC_client">Client Specific Functions</a>.</p>
<p>This function is created automatically.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>LE_OK if the client connected successfully to the service.</li>
<li>LE_UNAVAILABLE if the server is not currently offering the service to which the client is bound.</li>
<li>LE_NOT_PERMITTED if the client interface is not bound to any service (doesn't have a binding).</li>
<li>LE_COMM_ERROR if the Service Directory cannot be reached. </li>
</ul>
</dd></dl>
</div>
</div>
</div>
<br clear="left"/>
</div>
</div>
<link href="resources/css/jqtree.css" rel="stylesheet" type="text/css"/>
<script src="resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<link href="resources/css/perfect-scrollbar.min.css" rel="stylesheet"/>
<script src="resources/js/perfect-scrollbar.jquery.min.js"></script>
</body>
</html>
