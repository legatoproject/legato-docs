<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html data-context="Build Apps" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>le_atomFile.h File Reference - Legato Docs</title>
<meta content="legato™ is an open source Linux-based embedded platform designed to simplify connected IoT application development" name="description"/>
<meta content="legato, iot" name="keywords"/>
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="19.11.4" name="legato-version"/>
<link href="resources/images/legato.ico" rel="shortcut icon"/>
<link href="resources/images/legato.ico" rel="icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="resources/images/legato.ico" rel="apple-touch-icon" type="image/x-icon"/>
<link href="resources/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
<!--[if IE]>
    <script src="resources/js/html5shiv.js"></script>
    <script src="resources/js/respond.js"></script>
  <![endif]-->
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="resources/js/main.js"></script>
<script src="tocs/Build_Apps_API_Guides.json"></script>
</head>
<body>
<noscript>
<input class="modal-closing-trick" id="modal-closing-trick" type="checkbox"/>
<div id="nojs">
<label for="modal-closing-trick">
<span>You seem to not have Javascript <a href="http://enable-javascript.com">enabled</a>, so site functionality like the search and navigation tree won't work.</span>
</label>
</div>
</noscript>
<div class="wrapper">
<div class="fa fa-bars documentation" id="menu-trigger"></div>
<div id="top">
<header>
<nav>
<a class="navlink" href="/">Introduction</a><a class="navlink selected" href="buildAppsMain.html">Build Apps</a><a class="navlink" href="buildPlatformMain.html">Build Platform</a><a class="navlink" href="aboutMain.html">About</a>
</nav>
</header>
</div>
<div class="white" id="menudocumentation">
<header>
<a href="/"> <img alt="Back to Legato Homepage" id="logo" src="resources/images/legato_logo.png"/></a>
<h2>/ Build Apps</h2>
<nav class="secondary">
<a href="getStarted.html">Get Started</a><a href="concepts.html">Concepts</a><a class="link-selected" href="apiGuidesMain.html">API Guides</a><a href="tools.html">Tools</a><a href="howToMain.html">How To</a><a href="experimentalMain.html">Experimental Features</a>
</nav>
<nav class="ui-front">
<i class="fa fa-search" id="search-icon"></i>
<input id="searchbox" placeholder="Search"/>
</nav>
</header>
</div>
<div id="resizable">
<div id="left">
<div id="tree1"></div>
</div>
</div>
<div class="content">
<div class="header">
<div class="summary">
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<h1 class="title">le_atomFile.h File Reference</h1> </div>
</div><div class="contents">
<div class="textblock"><code>#include "<a class="el" href="le__fileLock_8h_source.html">le_fileLock.h</a>"</code><br/>
</div>
<p><a href="le__atomFile_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43f88f0430d01f3828ac9310b48974e7"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a43f88f0430d01f3828ac9310b48974e7">le_atomFile_Open</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode)</td></tr>
<tr class="separator:a43f88f0430d01f3828ac9310b48974e7"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a17672cb7568a41dfc4c84244e1104204"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a17672cb7568a41dfc4c84244e1104204">le_atomFile_Create</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions)</td></tr>
<tr class="separator:a17672cb7568a41dfc4c84244e1104204"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a57e9641d647ae59106bab67b5690cfb4"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a57e9641d647ae59106bab67b5690cfb4">le_atomFile_TryOpen</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode)</td></tr>
<tr class="separator:a57e9641d647ae59106bab67b5690cfb4"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:af56b841ef635512caf5011824ace74e8"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#af56b841ef635512caf5011824ace74e8">le_atomFile_TryCreate</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions)</td></tr>
<tr class="separator:af56b841ef635512caf5011824ace74e8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2c44b530b5d7513e1de9ed28bbf651c0"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel</a> (int fd)</td></tr>
<tr class="separator:a2c44b530b5d7513e1de9ed28bbf651c0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8f8397f267beafb22701b422b4410707"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close</a> (int fd)</td></tr>
<tr class="separator:a8f8397f267beafb22701b422b4410707"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a9eecd192057a65b94255cc3fe042d7a2"><td align="right" class="memItemLeft" valign="top">FILE * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a9eecd192057a65b94255cc3fe042d7a2">le_atomFile_OpenStream</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a9eecd192057a65b94255cc3fe042d7a2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a84bd503ee3efb23393bc7228715b85c1"><td align="right" class="memItemLeft" valign="top">FILE * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a84bd503ee3efb23393bc7228715b85c1">le_atomFile_CreateStream</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a84bd503ee3efb23393bc7228715b85c1"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a5112afbf738c0f9d4909bdbc6da5c99d"><td align="right" class="memItemLeft" valign="top">FILE * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a5112afbf738c0f9d4909bdbc6da5c99d">le_atomFile_TryOpenStream</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a5112afbf738c0f9d4909bdbc6da5c99d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a0376766efe9b1768e939714420c0b47d"><td align="right" class="memItemLeft" valign="top">FILE * </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a0376766efe9b1768e939714420c0b47d">le_atomFile_TryCreateStream</a> (const char *pathNamePtr, <a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> accessMode, <a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> createMode, mode_t permissions, <a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> *resultPtr)</td></tr>
<tr class="separator:a0376766efe9b1768e939714420c0b47d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae5cf35b73463f7eea098aba57587b7c3"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream</a> (FILE *fileStreamPtr)</td></tr>
<tr class="separator:ae5cf35b73463f7eea098aba57587b7c3"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aea745228ae746df24005a10ba06edd57"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream</a> (FILE *fileStreamPtr)</td></tr>
<tr class="separator:aea745228ae746df24005a10ba06edd57"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a0c305e7a46be873ce33e59fcd4285dfe"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a0c305e7a46be873ce33e59fcd4285dfe">le_atomFile_Delete</a> (const char *pathNamePtr)</td></tr>
<tr class="separator:a0c305e7a46be873ce33e59fcd4285dfe"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a113bc9bb8b5c685092263061b018e8ce"><td align="right" class="memItemLeft" valign="top"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="le__atomFile_8h.html#a113bc9bb8b5c685092263061b018e8ce">le_atomFile_TryDelete</a> (const char *pathNamePtr)</td></tr>
<tr class="separator:a113bc9bb8b5c685092263061b018e8ce"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Legato <a class="el" href="c_atomFile.html">Atomic File Operation API</a> include file.</p>
<p class="copyright">Copyright (C) Sierra Wireless Inc. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2c44b530b5d7513e1de9ed28bbf651c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c44b530b5d7513e1de9ed28bbf651c0">◆ </a></span>le_atomFile_Cancel()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_atomFile_Cancel </td>
<td>(</td>
<td class="paramtype">int </td>
<td class="paramname"><em>fd</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Cancels all changes and closes the file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor to close. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ae5cf35b73463f7eea098aba57587b7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cf35b73463f7eea098aba57587b7c3">◆ </a></span>le_atomFile_CancelStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void le_atomFile_CancelStream </td>
<td>(</td>
<td class="paramtype">FILE * </td>
<td class="paramname"><em>fileStreamPtr</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Cancels all changes and closes the file stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">fileStreamPtr</td><td>File stream pointer to close </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a8f8397f267beafb22701b422b4410707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8397f267beafb22701b422b4410707">◆ </a></span>le_atomFile_Close()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_Close </td>
<td>(</td>
<td class="paramtype">int </td>
<td class="paramname"><em>fd</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Commits all changes and closes the file descriptor. No need to close the file descriptor again if this function returns error (i.e. file descriptor is closed in both success and error scenario).</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor to close. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="aea745228ae746df24005a10ba06edd57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea745228ae746df24005a10ba06edd57">◆ </a></span>le_atomFile_CloseStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_CloseStream </td>
<td>(</td>
<td class="paramtype">FILE * </td>
<td class="paramname"><em>fileStreamPtr</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Commits all changes and closes the file stream. No need to close the file stream again if this function returns error (i.e. file stream is closed in both success and error scenario).</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_FAULT if there was an error </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">fileStreamPtr</td><td>File stream pointer to close </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a17672cb7568a41dfc4c84244e1104204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17672cb7568a41dfc4c84244e1104204">◆ </a></span>le_atomFile_Create()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int le_atomFile_Create </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> </td>
<td class="paramname"><em>createMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">mode_t </td>
<td class="paramname"><em>permissions</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates and opens file for atomic operation.</p>
<p>If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process's umask). Refer to the POSIX function open(2) for details of mode_t:</p>
<p><a href="http://man7.org/linux/man-pages/man2/open.2.html">http://man7.org/linux/man-pages/man2/open.2.html</a></p>
<p>The file can be opened for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can create and open the target file with specified parameters(i.e. accessMode, createMode, permissions).</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atomFile_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atomFile_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. See the function header comments for more details. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a84bd503ee3efb23393bc7228715b85c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84bd503ee3efb23393bc7228715b85c1">◆ </a></span>le_atomFile_CreateStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">FILE* le_atomFile_CreateStream </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> </td>
<td class="paramname"><em>createMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">mode_t </td>
<td class="paramname"><em>permissions</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> * </td>
<td class="paramname"><em>resultPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates and open a file via C standard library buffered file stream for atomic operation.</p>
<p>If the file does not exist it will be created with the file permissions specified in the argument permissions (modified by the process's umask). Refer to the POSIX function open(2) for details of mode_t:</p>
<p><a href="http://man7.org/linux/man-pages/man2/open.2.html">http://man7.org/linux/man-pages/man2/open.2.html</a></p>
<p>The file can be opened for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can create and open the target file with specified parameters(i.e. accessMode, createMode, permissions).</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atomFile_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atomFile_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. See the function header comments for more details. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. This can be NULL if the result code is not wanted. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a0c305e7a46be873ce33e59fcd4285dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c305e7a46be873ce33e59fcd4285dfe">◆ </a></span>le_atomFile_Delete()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_Delete </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Atomically deletes a file. This function also ensures safe deletion of file (i.e. if any other process/thread is using the file by acquiring file lock, it won't delete the file unless lock is released). This is a blocking call. It will block until lock on file is released.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_NOT_FOUND if file doesn't exists. LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to delete </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a43f88f0430d01f3828ac9310b48974e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f88f0430d01f3828ac9310b48974e7">◆ </a></span>le_atomFile_Open()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int le_atomFile_Open </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Opens an existing file for atomic access operation.</p>
<p>The file can be open for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can open the target file with specified accessMode.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_NOT_FOUND if the file does not exist. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atomFile_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atomFile_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a9eecd192057a65b94255cc3fe042d7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eecd192057a65b94255cc3fe042d7a2">◆ </a></span>le_atomFile_OpenStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">FILE* le_atomFile_OpenStream </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> * </td>
<td class="paramname"><em>resultPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Opens an existing file via C standard library buffered file stream for atomic operation.</p>
<p>The file can be open for reading, writing or both as specified in the accessMode argument. Parameter accessMode specifies the lock to be applied on the file (read lock will be applied for LE_FLOCK_READ and write lock will be placed for all other cases).</p>
<p>This is a blocking call. It will block until it can open the target file with specified accessMode.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_NOT_FOUND if the file does not exist.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atomFile_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atomFile_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. This can be NULL if the result code is not wanted. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="af56b841ef635512caf5011824ace74e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af56b841ef635512caf5011824ace74e8">◆ </a></span>le_atomFile_TryCreate()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int le_atomFile_TryCreate </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> </td>
<td class="paramname"><em>createMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">mode_t </td>
<td class="paramname"><em>permissions</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atomFile_8h.html#a17672cb7568a41dfc4c84244e1104204">le_atomFile_Create()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode LE_WOULD_BLOCK if there is already an incompatible lock on the file. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atomFile_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atomFile_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a0376766efe9b1768e939714420c0b47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0376766efe9b1768e939714420c0b47d">◆ </a></span>le_atomFile_TryCreateStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">FILE* le_atomFile_TryCreateStream </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a35d8c575df68d1da52a1048916f7e7d9">le_flock_CreateMode_t</a> </td>
<td class="paramname"><em>createMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">mode_t </td>
<td class="paramname"><em>permissions</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> * </td>
<td class="paramname"><em>resultPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atomFile_8h.html#a84bd503ee3efb23393bc7228715b85c1">le_atomFile_CreateStream()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_DUPLICATE if the file already exists and LE_FLOCK_FAIL_IF_EXIST is specified in createMode.</li>
<li>LE_WOULD_BLOCK if there is already an incompatible lock on the file.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atomFile_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atomFile_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">createMode</td><td>Action to take if the file already exists. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>File permissions used when creating the file. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a113bc9bb8b5c685092263061b018e8ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113bc9bb8b5c685092263061b018e8ce">◆ </a></span>le_atomFile_TryDelete()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> le_atomFile_TryDelete </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atomFile_8h.html#a0c305e7a46be873ce33e59fcd4285dfe">le_atomFile_Delete()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file is locked.</p>
<dl class="section return"><dt>Returns</dt><dd>LE_OK if successful. LE_NOT_FOUND if file doesn't exists. LE_WOULD_BLOCK if file is already locked (i.e. someone is using it). LE_FAULT if there was an error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to delete </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a57e9641d647ae59106bab67b5690cfb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e9641d647ae59106bab67b5690cfb4">◆ </a></span>le_atomFile_TryOpen()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int le_atomFile_TryOpen </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atomFile_8h.html#a43f88f0430d01f3828ac9310b48974e7">le_atomFile_Open()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor if successful. LE_NOT_FOUND if the file does not exist. LE_WOULD_BLOCK if there is already an incompatible lock on the file. LE_FAULT if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>File must be closed using <a class="el" href="le__atomFile_8h.html#a8f8397f267beafb22701b422b4410707">le_atomFile_Close()</a> or <a class="el" href="le__atomFile_8h.html#a2c44b530b5d7513e1de9ed28bbf651c0">le_atomFile_Cancel()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a5112afbf738c0f9d4909bdbc6da5c99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5112afbf738c0f9d4909bdbc6da5c99d">◆ </a></span>le_atomFile_TryOpenStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">FILE* le_atomFile_TryOpenStream </td>
<td>(</td>
<td class="paramtype">const char * </td>
<td class="paramname"><em>pathNamePtr</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__fileLock_8h.html#a5e5400e33a5e10b7c624748a9ce11280">le_flock_AccessMode_t</a> </td>
<td class="paramname"><em>accessMode</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a> * </td>
<td class="paramname"><em>resultPtr</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Same as <code><a class="el" href="le__atomFile_8h.html#a9eecd192057a65b94255cc3fe042d7a2">le_atomFile_OpenStream()</a></code> except that it is non-blocking function and it will fail and return LE_WOULD_BLOCK immediately if target file has incompatible lock.</p>
<p>If there was an error NULL is returned and resultPtr is set to:</p><ul>
<li>LE_NOT_FOUND if the file does not exist.</li>
<li>LE_WOULD_BLOCK if there is already an incompatible lock on the file.</li>
<li>LE_FAULT if there was an error.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Buffered file stream handle to the file if successful. NULL if there was an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Stream must be closed using <a class="el" href="le__atomFile_8h.html#aea745228ae746df24005a10ba06edd57">le_atomFile_CloseStream()</a> or <a class="el" href="le__atomFile_8h.html#ae5cf35b73463f7eea098aba57587b7c3">le_atomFile_CancelStream()</a> function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathNamePtr</td><td>Path of the file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">accessMode</td><td>Access mode to open the file. </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">resultPtr</td><td>Pointer to result code. </td></tr>
</table>
</dd>
</dl>
</div>
</div>
</div>
<br clear="left"/>
</div>
</div>
<link href="resources/css/jqtree.css" rel="stylesheet" type="text/css"/>
<script src="resources/js/tree.jquery.js" type="text/javascript"></script>
<script src="resources/js/jquery.cookie.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<link href="resources/css/perfect-scrollbar.min.css" rel="stylesheet"/>
<script src="resources/js/perfect-scrollbar.jquery.min.js"></script>
</body>
</html>
