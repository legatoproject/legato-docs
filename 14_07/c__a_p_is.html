<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Legato: C APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Simplifying M2M development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('c__a_p_is.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">C APIs </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="apiList"></a>
Legato C APIs</h1>
<p>Legato has these C language APIs:</p>
<p><a class="el" href="c_basics.html">Basic Type and Constant Definitions</a> <br/>
 <a class="el" href="c_args.html">Command Line Arguments API</a> <br/>
 <a class="el" href="c_dir.html">Directory API</a> <br/>
 <a class="el" href="c_doubly_linked_list.html">Doubly Linked List API</a> <br/>
 <a class="el" href="c_memory.html">Dynamic Memory Allocation API</a> <br/>
 <a class="el" href="c_event_loop.html">Event Loop API</a> <br/>
 <a class="el" href="c_flock.html">File Locking API</a> <br/>
 <a class="el" href="c_hashmap.html">HashMap API</a> <br/>
 <a class="el" href="c_hex.html">Hex string API</a> <br/>
 <a class="el" href="c_logging.html">Logging API</a> <br/>
 <a class="el" href="c_messaging.html">Low-Level Messaging API</a> <br/>
 <a class="el" href="c_mutex.html">Mutex API</a> <br/>
 <a class="el" href="c_path.html">Path API</a> <br/>
 <a class="el" href="c_path_iter.html">Path Iterator API</a> <br/>
 <a class="el" href="c_print.html">Print APIs</a> <br/>
 <a class="el" href="c_clock.html">Real-time Clock API</a> <br/>
 <a class="el" href="c_safe_ref.html">Safe References API</a> <br/>
 <a class="el" href="c_semaphore.html">Semaphore API</a> <br/>
 <a class="el" href="c_signals.html">Signals API</a> <br/>
 <a class="el" href="c_singly_linked_list.html">Singly Linked List API</a> <br/>
 <a class="el" href="c_threading.html">Thread Control API</a> <br/>
 <a class="el" href="c_timer.html">Timer API</a> <br/>
 <a class="el" href="c_test.html">Unit Testing API</a> <br/>
 <a class="el" href="c_utf8.html">UTF-8 String Handling API</a> <br/>
</p>
<h1><a class="anchor" id="OOD"></a>
Object-Oriented Design</h1>
<p>The Legato framework is constructed in an object-oriented manner.</p>
<p>The C programming language was created before object-oriented programming became popular so it has no native support for OOP features like inheritance, private object members, member functions, and overloading. Object-oriented designs can still be implemented in C, though.</p>
<p>In the Legato C APIs, classes are hidden behind opaque "reference" data types. You can get references to objects created behind the scenes in Legato, but you can never see the structure of those objects. The implementation is hidden from view. Access to object properties is made available through accessor functions.</p>
<h1><a class="anchor" id="opaqueTypes"></a>
Opaque Types</h1>
<p>The basic "opaque data type" offered by the C programming language is the "void pointer" (void *). The idea is that a pointer to an object of type <em>T</em> can be cast to point to a void type before being passed outside of the module that implements <em>T</em>.</p>
<p>This makes it impossible for anyone outside of the module that implements <em>T</em> to dereference the pointer or access anything about the implementation of <em>T</em>. This way, the module that implements <em>T</em> is free to change the implementation of <em>T</em> in any way needed without worrying about breaking code outside of that module.</p>
<p>The problem with the void pointer type is that it throws away type information. At compile time, this makes it impossible to detect that a variable with opaque type <em>T</em> has been passed into a function with some other pointer type <em>P</em>.</p>
<p>To overcome this, Legato uses incomplete types to implement its opaque types. For example, there are declarations similar to the following in Legato C API header files:</p>
<div class="fragment"><div class="line"><span class="comment">// Declare a reference type for referring to Foo objects.</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>le_foo* le_foo_Ref_t;</div>
</div><!-- fragment --><p>However, "struct le_foo" would <em>not</em> be defined in the API header or <em>anywhere</em> outside of the hypothetical Foo API's implementation files. This makes "struct le_foo" an "incomplete type" for all code outside of the Foo API implementation files. Incomplete types can't be used because the compiler doesn't have enough information about them to generate any code that uses them. But <em>pointers</em> to incomplete types <em>can</em> be passed around because the compiler always knows the pointer size. The compiler knows that one incomplete type is <em>not</em> necessarily interchangeable with another. It won't allow a pointer to an incomplete type to be used where a pointer to another type is expected.</p>
<hr/>
<p>Copyright (C) Sierra Wireless, Inc. 2014. All rights reserved. Use of this work is subject to license. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
   <div class="footer">
        <div>
            <a href="http://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless 2014
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.8.6
        </div>
    </div>
</body>
</html>
